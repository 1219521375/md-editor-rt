import{r as y,R as h}from"./vendor.cdc065db.js";var lt={exports:{}},Ot=function(e,r){return function(){for(var c=new Array(arguments.length),a=0;a<c.length;a++)c[a]=arguments[a];return e.apply(r,c)}},jn=Ot,Ce=Object.prototype.toString;function ot(t){return Ce.call(t)==="[object Array]"}function ct(t){return typeof t=="undefined"}function On(t){return t!==null&&!ct(t)&&t.constructor!==null&&!ct(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Hn(t){return Ce.call(t)==="[object ArrayBuffer]"}function Ln(t){return typeof FormData!="undefined"&&t instanceof FormData}function Pn(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function zn(t){return typeof t=="string"}function Un(t){return typeof t=="number"}function Ht(t){return t!==null&&typeof t=="object"}function Ge(t){if(Ce.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function qn(t){return Ce.call(t)==="[object Date]"}function Mn(t){return Ce.call(t)==="[object File]"}function Vn(t){return Ce.call(t)==="[object Blob]"}function Lt(t){return Ce.call(t)==="[object Function]"}function Kn(t){return Ht(t)&&Lt(t.pipe)}function Zn(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function Jn(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Wn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function dt(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),ot(t))for(var r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&e.call(null,t[c],c,t)}function ft(){var t={};function e(c,a){Ge(t[a])&&Ge(c)?t[a]=ft(t[a],c):Ge(c)?t[a]=ft({},c):ot(c)?t[a]=c.slice():t[a]=c}for(var r=0,o=arguments.length;r<o;r++)dt(arguments[r],e);return t}function Xn(t,e,r){return dt(e,function(c,a){r&&typeof c=="function"?t[a]=jn(c,r):t[a]=c}),t}function Gn(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var oe={isArray:ot,isArrayBuffer:Hn,isBuffer:On,isFormData:Ln,isArrayBufferView:Pn,isString:zn,isNumber:Un,isObject:Ht,isPlainObject:Ge,isUndefined:ct,isDate:qn,isFile:Mn,isBlob:Vn,isFunction:Lt,isStream:Kn,isURLSearchParams:Zn,isStandardBrowserEnv:Wn,forEach:dt,merge:ft,extend:Xn,trim:Jn,stripBOM:Gn},Fe=oe;function Pt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var zt=function(e,r,o){if(!r)return e;var c;if(o)c=o(r);else if(Fe.isURLSearchParams(r))c=r.toString();else{var a=[];Fe.forEach(r,function(g,x){g===null||typeof g=="undefined"||(Fe.isArray(g)?x=x+"[]":g=[g],Fe.forEach(g,function(F){Fe.isDate(F)?F=F.toISOString():Fe.isObject(F)&&(F=JSON.stringify(F)),a.push(Pt(x)+"="+Pt(F))}))}),c=a.join("&")}if(c){var m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e},Qn=oe;function Qe(){this.handlers=[]}Qe.prototype.use=function(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};Qe.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Qe.prototype.forEach=function(e){Qn.forEach(this.handlers,function(o){o!==null&&e(o)})};var Yn=Qe,er=oe,tr=function(e,r){er.forEach(e,function(c,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=c,delete e[a])})},Ut=function(e,r,o,c,a){return e.config=r,o&&(e.code=o),e.request=c,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},nr=Ut,qt=function(e,r,o,c,a){var m=new Error(e);return nr(m,r,o,c,a)},rr=qt,ir=function(e,r,o){var c=o.config.validateStatus;!o.status||!c||c(o.status)?e(o):r(rr("Request failed with status code "+o.status,o.config,null,o.request,o))},Ye=oe,ur=Ye.isStandardBrowserEnv()?function(){return{write:function(r,o,c,a,m,s){var g=[];g.push(r+"="+encodeURIComponent(o)),Ye.isNumber(c)&&g.push("expires="+new Date(c).toGMTString()),Ye.isString(a)&&g.push("path="+a),Ye.isString(m)&&g.push("domain="+m),s===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(r){var o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ar=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},sr=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},lr=ar,or=sr,cr=function(e,r){return e&&!lr(r)?or(e,r):r},pt=oe,dr=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],fr=function(e){var r={},o,c,a;return e&&pt.forEach(e.split(`
`),function(s){if(a=s.indexOf(":"),o=pt.trim(s.substr(0,a)).toLowerCase(),c=pt.trim(s.substr(a+1)),o){if(r[o]&&dr.indexOf(o)>=0)return;o==="set-cookie"?r[o]=(r[o]?r[o]:[]).concat([c]):r[o]=r[o]?r[o]+", "+c:c}}),r},Mt=oe,pr=Mt.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),o;function c(a){var m=a;return e&&(r.setAttribute("href",m),m=r.href),r.setAttribute("href",m),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=c(window.location.href),function(m){var s=Mt.isString(m)?c(m):m;return s.protocol===o.protocol&&s.host===o.host}}():function(){return function(){return!0}}(),et=oe,hr=ir,mr=ur,gr=zt,Dr=cr,vr=fr,br=pr,ht=qt,Vt=function(e){return new Promise(function(o,c){var a=e.data,m=e.headers,s=e.responseType;et.isFormData(a)&&delete m["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var x=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(x+":"+w)}var F=Dr(e.baseURL,e.url);g.open(e.method.toUpperCase(),gr(F,e.params,e.paramsSerializer),!0),g.timeout=e.timeout;function C(){if(!!g){var $="getAllResponseHeaders"in g?vr(g.getAllResponseHeaders()):null,_=!s||s==="text"||s==="json"?g.responseText:g.response,P={data:_,status:g.status,statusText:g.statusText,headers:$,config:e,request:g};hr(o,c,P),g=null}}if("onloadend"in g?g.onloadend=C:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(C)},g.onabort=function(){!g||(c(ht("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){c(ht("Network Error",e,null,g)),g=null},g.ontimeout=function(){var _="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(_=e.timeoutErrorMessage),c(ht(_,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},et.isStandardBrowserEnv()){var k=(e.withCredentials||br(F))&&e.xsrfCookieName?mr.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in g&&et.forEach(m,function(_,P){typeof a=="undefined"&&P.toLowerCase()==="content-type"?delete m[P]:g.setRequestHeader(P,_)}),et.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),s&&s!=="json"&&(g.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&g.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(_){!g||(g.abort(),c(_),g=null)}),a||(a=null),g.send(a)})},re=oe,Kt=tr,Er=Ut,Cr={"Content-Type":"application/x-www-form-urlencoded"};function Zt(t,e){!re.isUndefined(t)&&re.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function kr(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=Vt),t}function Fr(t,e,r){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}var tt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:kr(),transformRequest:[function(e,r){return Kt(r,"Accept"),Kt(r,"Content-Type"),re.isFormData(e)||re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)?e:re.isArrayBufferView(e)?e.buffer:re.isURLSearchParams(e)?(Zt(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):re.isObject(e)||r&&r["Content-Type"]==="application/json"?(Zt(r,"application/json"),Fr(e)):e}],transformResponse:[function(e){var r=this.transitional,o=r&&r.silentJSONParsing,c=r&&r.forcedJSONParsing,a=!o&&this.responseType==="json";if(a||c&&re.isString(e)&&e.length)try{return JSON.parse(e)}catch(m){if(a)throw m.name==="SyntaxError"?Er(m,this,"E_JSON_PARSE"):m}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};tt.headers={common:{Accept:"application/json, text/plain, */*"}};re.forEach(["delete","get","head"],function(e){tt.headers[e]={}});re.forEach(["post","put","patch"],function(e){tt.headers[e]=re.merge(Cr)});var mt=tt,xr=oe,wr=mt,yr=function(e,r,o){var c=this||wr;return xr.forEach(o,function(m){e=m.call(c,e,r)}),e},Jt=function(e){return!!(e&&e.__CANCEL__)},Wt=oe,gt=yr,Ar=Jt,$r=mt;function Dt(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Sr=function(e){Dt(e),e.headers=e.headers||{},e.data=gt.call(e,e.data,e.headers,e.transformRequest),e.headers=Wt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Wt.forEach(["delete","get","head","post","put","patch","common"],function(c){delete e.headers[c]});var r=e.adapter||$r.adapter;return r(e).then(function(c){return Dt(e),c.data=gt.call(e,c.data,c.headers,e.transformResponse),c},function(c){return Ar(c)||(Dt(e),c&&c.response&&(c.response.data=gt.call(e,c.response.data,c.response.headers,e.transformResponse))),Promise.reject(c)})},ie=oe,Xt=function(e,r){r=r||{};var o={},c=["url","method","data"],a=["headers","auth","proxy","params"],m=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function g(C,k){return ie.isPlainObject(C)&&ie.isPlainObject(k)?ie.merge(C,k):ie.isPlainObject(k)?ie.merge({},k):ie.isArray(k)?k.slice():k}function x(C){ie.isUndefined(r[C])?ie.isUndefined(e[C])||(o[C]=g(void 0,e[C])):o[C]=g(e[C],r[C])}ie.forEach(c,function(k){ie.isUndefined(r[k])||(o[k]=g(void 0,r[k]))}),ie.forEach(a,x),ie.forEach(m,function(k){ie.isUndefined(r[k])?ie.isUndefined(e[k])||(o[k]=g(void 0,e[k])):o[k]=g(void 0,r[k])}),ie.forEach(s,function(k){k in r?o[k]=g(e[k],r[k]):k in e&&(o[k]=g(void 0,e[k]))});var w=c.concat(a).concat(m).concat(s),F=Object.keys(e).concat(Object.keys(r)).filter(function(k){return w.indexOf(k)===-1});return ie.forEach(F,x),o};const Br="axios@^0.21.1",_r="axios@0.21.4",Tr=!1,Nr="sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",Rr="/axios",Ir={},jr={type:"range",registry:!0,raw:"axios@^0.21.1",name:"axios",escapedName:"axios",rawSpec:"^0.21.1",saveSpec:null,fetchSpec:"^0.21.1"},Or=["#DEV:/"],Hr="https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",Lr="c67b90dc0568e5c1cf2b0b858c43ba28e2eda575",Pr="axios@^0.21.1",zr="/home/runner/work/md-editor-rt/md-editor-rt",Ur={name:"Matt Zabriskie"},qr={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},Mr={url:"https://github.com/axios/axios/issues"},Vr=!1,Kr=[{path:"./dist/axios.min.js",threshold:"5kB"}],Zr={"follow-redirects":"^1.14.0"},Jr=!1,Wr="Promise based HTTP client for the browser and node.js",Xr={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},Gr="https://axios-http.com",Qr="dist/axios.min.js",Yr=["xhr","http","ajax","promise","node"],ei="MIT",ti="index.js",ni="axios",ri={type:"git",url:"git+https://github.com/axios/axios.git"},ii={build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},ui="./index.d.ts",ai="dist/axios.min.js",si="0.21.4";var li={_from:Br,_id:_r,_inBundle:Tr,_integrity:Nr,_location:Rr,_phantomChildren:Ir,_requested:jr,_requiredBy:Or,_resolved:Hr,_shasum:Lr,_spec:Pr,_where:zr,author:Ur,browser:qr,bugs:Mr,bundleDependencies:Vr,bundlesize:Kr,dependencies:Zr,deprecated:Jr,description:Wr,devDependencies:Xr,homepage:Gr,jsdelivr:Qr,keywords:Yr,license:ei,main:ti,name:ni,repository:ri,scripts:ii,typings:ui,unpkg:ai,version:si},Gt=li,vt={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){vt[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});var Qt={},oi=Gt.version.split(".");function Yt(t,e){for(var r=e?e.split("."):oi,o=t.split("."),c=0;c<3;c++){if(r[c]>o[c])return!0;if(r[c]<o[c])return!1}return!1}vt.transitional=function(e,r,o){var c=r&&Yt(r);function a(m,s){return"[Axios v"+Gt.version+"] Transitional option '"+m+"'"+s+(o?". "+o:"")}return function(m,s,g){if(e===!1)throw new Error(a(s," has been removed in "+r));return c&&!Qt[s]&&(Qt[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(m,s,g):!0}};function ci(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var o=Object.keys(t),c=o.length;c-- >0;){var a=o[c],m=e[a];if(m){var s=t[a],g=s===void 0||m(s,a,t);if(g!==!0)throw new TypeError("option "+a+" must be "+g);continue}if(r!==!0)throw Error("Unknown option "+a)}}var di={isOlderVersion:Yt,assertOptions:ci,validators:vt},en=oe,fi=zt,tn=Yn,nn=Sr,nt=Xt,rn=di,xe=rn.validators;function Re(t){this.defaults=t,this.interceptors={request:new tn,response:new tn}}Re.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=nt(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&rn.assertOptions(r,{silentJSONParsing:xe.transitional(xe.boolean,"1.0.0"),forcedJSONParsing:xe.transitional(xe.boolean,"1.0.0"),clarifyTimeoutError:xe.transitional(xe.boolean,"1.0.0")},!1);var o=[],c=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(e)===!1||(c=c&&C.synchronous,o.unshift(C.fulfilled,C.rejected))});var a=[];this.interceptors.response.forEach(function(C){a.push(C.fulfilled,C.rejected)});var m;if(!c){var s=[nn,void 0];for(Array.prototype.unshift.apply(s,o),s=s.concat(a),m=Promise.resolve(e);s.length;)m=m.then(s.shift(),s.shift());return m}for(var g=e;o.length;){var x=o.shift(),w=o.shift();try{g=x(g)}catch(F){w(F);break}}try{m=nn(g)}catch(F){return Promise.reject(F)}for(;a.length;)m=m.then(a.shift(),a.shift());return m};Re.prototype.getUri=function(e){return e=nt(this.defaults,e),fi(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};en.forEach(["delete","get","head","options"],function(e){Re.prototype[e]=function(r,o){return this.request(nt(o||{},{method:e,url:r,data:(o||{}).data}))}});en.forEach(["post","put","patch"],function(e){Re.prototype[e]=function(r,o,c){return this.request(nt(c||{},{method:e,url:r,data:o}))}});var pi=Re;function bt(t){this.message=t}bt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};bt.prototype.__CANCEL__=!0;var un=bt,hi=un;function rt(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(c){e=c});var r=this;t(function(c){r.reason||(r.reason=new hi(c),e(r.reason))})}rt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};rt.source=function(){var e,r=new rt(function(c){e=c});return{token:r,cancel:e}};var mi=rt,gi=function(e){return function(o){return e.apply(null,o)}},Di=function(e){return typeof e=="object"&&e.isAxiosError===!0},an=oe,vi=Ot,it=pi,bi=Xt,Ei=mt;function sn(t){var e=new it(t),r=vi(it.prototype.request,e);return an.extend(r,it.prototype,e),an.extend(r,e),r}var ce=sn(Ei);ce.Axios=it;ce.create=function(e){return sn(bi(ce.defaults,e))};ce.Cancel=un;ce.CancelToken=mi;ce.isCancel=Jt;ce.all=function(e){return Promise.all(e)};ce.spread=gi;ce.isAxiosError=Di;lt.exports=ce;lt.exports.default=ce;var Ci=lt.exports,ki=Ci;const Fi=ki.create({timeout:7600,baseURL:"https://imzbf.github.io/md-editor-rt"});var uu=Fi,xi=Object.defineProperty,wi=Object.defineProperties,yi=Object.getOwnPropertyDescriptors,ln=Object.getOwnPropertySymbols,Ai=Object.prototype.hasOwnProperty,$i=Object.prototype.propertyIsEnumerable,Et=(t,e,r)=>e in t?xi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,J=(t,e)=>{for(var r in e||(e={}))Ai.call(e,r)&&Et(t,r,e[r]);if(ln)for(var r of ln(e))$i.call(e,r)&&Et(t,r,e[r]);return t},G=(t,e)=>wi(t,yi(e)),Si=(t,e,r)=>(Et(t,typeof e!="symbol"?e+"":e,r),r),Bi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},on={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o=[],c=0;c<arguments.length;c++){var a=arguments[c];if(!!a){var m=typeof a;if(m==="string"||m==="number")o.push(a);else if(Array.isArray(a)){if(a.length){var s=r.apply(null,a);s&&o.push(s)}}else if(m==="object")if(a.toString===Object.prototype.toString)for(var g in a)e.call(a,g)&&a[g]&&o.push(g);else o.push(a.toString())}}return o.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(on);var ut=on.exports;class _i{constructor(){Si(this,"pools",{})}remove(e,r,o){const a=this.pools[e]&&this.pools[e][r];a&&(this.pools[e][r]=a.filter(m=>m===o))}clear(e){this.pools[e]={}}on(e,r){return this.pools[e]||(this.pools[e]={}),this.pools[e][r.name]||(this.pools[e][r.name]=[]),this.pools[e][r.name].push(r.callback),this.pools[e][r.name].includes(r.callback)}emit(e,r,...o){this.pools[e]||(this.pools[e]={});const a=this.pools[e][r];a&&a.forEach(m=>{try{m(...o)}catch(s){console.error(`${r} monitor event exception\uFF01`,s)}})}}var I=new _i;const b="md",Ti="https://at.alicdn.com/t/font_2605852_khjf435c7th.js",at={atom:"https://cdn.jsdelivr.net/npm/highlight.js@11.2.0/styles/atom-one-dark.css",github:"https://cdn.jsdelivr.net/npm/highlight.js@11.2.0/styles/github.css",githubDark:"https://cdn.jsdelivr.net/npm/highlight.js@11.2.0/styles/github-dark.css",js:"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/highlight.min.js"},cn={main:"https://cdn.jsdelivr.net/npm/prettier@2.4.0/standalone.js",markdown:"https://cdn.jsdelivr.net/npm/prettier@2.4.0/parser-markdown.js"},dn={css:"https://cdn.jsdelivr.net/npm/cropperjs@1.5.12/dist/cropper.min.css",js:"https://cdn.jsdelivr.net/npm/cropperjs@1.5.12/dist/cropper.min.js"},Ni="https://cdn.jsdelivr.net/npm/screenfull@5.1.0/dist/screenfull.js",Ri=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","-","codeRow","code","link","image","table","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","htmlPreview","catalog","github"],Ct={"zh-CN":{toolbarTips:{bold:"\u52A0\u7C97",underline:"\u4E0B\u5212\u7EBF",italic:"\u659C\u4F53",strikeThrough:"\u5220\u9664\u7EBF",title:"\u6807\u9898",sub:"\u4E0B\u6807",sup:"\u4E0A\u6807",quote:"\u5F15\u7528",unorderedList:"\u65E0\u5E8F\u5217\u8868",orderedList:"\u6709\u5E8F\u5217\u8868",codeRow:"\u884C\u5185\u4EE3\u7801",code:"\u5757\u7EA7\u4EE3\u7801",link:"\u94FE\u63A5",image:"\u56FE\u7247",table:"\u8868\u683C",revoke:"\u540E\u9000",next:"\u524D\u8FDB",save:"\u4FDD\u5B58",prettier:"\u7F8E\u5316",pageFullscreen:"\u6D4F\u89C8\u5668\u5168\u5C4F",fullscreen:"\u5C4F\u5E55\u5168\u5C4F",catalog:"\u76EE\u5F55",preview:"\u9884\u89C8",htmlPreview:"html\u4EE3\u7801\u9884\u89C8",github:"\u6E90\u7801\u5730\u5740"},titleItem:{h1:"\u4E00\u7EA7\u6807\u9898",h2:"\u4E8C\u7EA7\u6807\u9898",h3:"\u4E09\u7EA7\u6807\u9898",h4:"\u56DB\u7EA7\u6807\u9898",h5:"\u4E94\u7EA7\u6807\u9898",h6:"\u516D\u7EA7\u6807\u9898"},imgTitleItem:{link:"\u6DFB\u52A0\u94FE\u63A5",upload:"\u4E0A\u4F20\u56FE\u7247",clip2upload:"\u88C1\u526A\u4E0A\u4F20"},linkModalTips:{title:"\u6DFB\u52A0",descLable:"\u94FE\u63A5\u63CF\u8FF0\uFF1A",descLablePlaceHolder:"\u8BF7\u8F93\u5165\u63CF\u8FF0...",urlLable:"\u94FE\u63A5\u5730\u5740\uFF1A",UrlLablePlaceHolder:"\u8BF7\u8F93\u5165\u94FE\u63A5...",buttonOK:"\u786E\u5B9A"},clipModalTips:{title:"\u88C1\u526A\u56FE\u7247\u4E0A\u4F20",buttonUpload:"\u4E0A\u4F20"},copyCode:{text:"\u590D\u5236\u4EE3\u7801",tips:"\u5DF2\u590D\u5236\uFF01"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",catalog:"catalog",preview:"preview",htmlPreview:"html preview",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{title:"Add ",descLable:"Desc:",descLablePlaceHolder:"Enter a description...",urlLable:"Link:",UrlLablePlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",tips:"Copied!"}}},Ii=(t,e)=>{const r=o=>{const c=t.parentElement||document.body,a=c.offsetWidth,m=c.offsetHeight,s=document.documentElement.clientWidth,g=document.documentElement.clientHeight,x=o.offsetX,w=o.offsetY,F=k=>{let $=k.x+document.body.scrollLeft-document.body.clientLeft-x,_=k.y+document.body.scrollTop-document.body.clientTop-w;$=$<1?1:$<s-a-1?$:s-a-1,_=_<1?1:_<g-m-1?_:g-m-1,e?e($,_):(c.style.left=$+"px",c.style.top=_+"px")};document.addEventListener("mousemove",F);const C=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",C)};document.addEventListener("mouseup",C)};return t.addEventListener("mousedown",r),()=>{t.removeEventListener("mousedown",r)}},ge=t=>{document.getElementById(t.id)||document.head.appendChild(t)},ji=t=>{const{editorId:e}=t,r=a=>{var m,s;return((m=t.toolbars)==null?void 0:m.includes(a))&&!((s=t.toolbarsExclude)==null?void 0:s.includes(a))},o=a=>{if(a.target===document.querySelector(`#${t.editorId}-textarea`))if(a.ctrlKey||a.metaKey)switch(a.code){case"KeyS":{a.shiftKey?r("strikeThrough")&&I.emit(e,"replace","strikeThrough"):r("save")&&(I.emit(e,"onSave",t.modelValue),a.preventDefault());break}case"KeyB":{r("bold")&&(I.emit(e,"replace","bold"),a.preventDefault());break}case"KeyU":{a.shiftKey?r("unorderedList")&&(I.emit(e,"replace","unorderedList"),a.preventDefault()):r("underline")&&(I.emit(e,"replace","underline"),a.preventDefault());break}case"KeyI":{a.shiftKey?r("image")&&(I.emit(e,"openModals","image"),a.preventDefault()):r("italic")&&(I.emit(e,"replace","italic"),a.preventDefault());break}case"Digit1":{r("title")&&(I.emit(e,"replace","h1"),a.preventDefault());break}case"Digit2":{r("title")&&(I.emit(e,"replace","h2"),a.preventDefault());break}case"Digit3":{r("title")&&(I.emit(e,"replace","h3"),a.preventDefault());break}case"Digit4":{r("title")&&(I.emit(e,"replace","h4"),a.preventDefault());break}case"Digit5":{r("title")&&(I.emit(e,"replace","h5"),a.preventDefault());break}case"Digit6":{r("title")&&(I.emit(e,"replace","h6"),a.preventDefault());break}case"ArrowUp":{r("sup")&&(I.emit(e,"replace","sup"),a.preventDefault());break}case"ArrowDown":{r("sub")&&(I.emit(e,"replace","sub"),a.preventDefault());break}case"KeyQ":{I.emit(e,"replace","quote"),a.preventDefault();break}case"KeyO":{r("orderedList")&&(I.emit(e,"replace","orderedList"),a.preventDefault());break}case"KeyC":{if(a.shiftKey)r("code")&&(I.emit(e,"replace","code"),a.preventDefault());else if(a.altKey)r("codeRow")&&(I.emit(e,"replace","codeRow"),a.preventDefault());else{a.preventDefault(),I.emit(e,"replace","ctrlC");break}break}case"KeyL":{r("link")&&(I.emit(e,"openModals","link"),a.preventDefault());break}case"KeyZ":{a.shiftKey?r("next")&&(I.emit(e,"ctrlShiftZ"),a.preventDefault()):r("revoke")&&(I.emit(e,"ctrlZ"),a.preventDefault());break}case"KeyF":{a.shiftKey&&r("prettier")&&(I.emit(e,"replace","prettier"),a.preventDefault());break}case"KeyT":{a.altKey&&a.shiftKey&&r("table")&&(I.emit(e,"replace","table"),a.preventDefault());break}case"KeyX":{I.emit(e,"replace","ctrlX"),a.preventDefault();break}case"KeyD":{a.preventDefault(),I.emit(e,"replace","ctrlD");break}}else a.code==="Tab"&&(a.preventDefault(),a.shiftKey?I.emit(e,"replace","shiftTab"):I.emit(e,"replace","tab"))},c=a=>{if(a.clipboardData&&a.clipboardData.files.length>0){const m=a.clipboardData.files[0];/image\/.*/.test(m.type)&&(I.emit(e,"uploadImage",[m]),a.preventDefault())}};y.exports.useEffect(()=>(t.previewOnly||(window.addEventListener("keydown",o),document.addEventListener("paste",c)),()=>{t.previewOnly||(window.removeEventListener("keydown",o),document.removeEventListener("paste",c))}),[]),y.exports.useEffect(()=>{if(t.previewOnly)return;const a=()=>{t.onSave&&t.onSave(t.modelValue)};I.remove(e,"onSave",a),I.on(e,{name:"onSave",callback:a})},[t.modelValue])},Oi=t=>{const{iconfontJs:e,prettier:r,prettierCDN:o,prettierMDCDN:c,previewOnly:a,cropperCss:m,cropperJs:s}=t;y.exports.useEffect(()=>{const g=document.createElement("script");g.src=e,g.id=`${b}-icon`;const x=document.createElement("script"),w=document.createElement("script");x.src=o,x.id=`${b}-prettier`,w.src=c,w.id=`${b}-prettierMD`;const F=document.createElement("link");F.rel="stylesheet",F.href=m,F.id=`${b}-cropperCss`;const C=document.createElement("script");return C.src=s,C.id=`${b}-cropper`,a||(ge(g),t.Cropper||(ge(F),ge(C)),r&&(ge(x),ge(w))),()=>{a||(document.head.removeChild(g),document.head.removeChild(F),document.head.removeChild(C),r&&(document.head.removeChild(x),document.head.removeChild(w)))}},[])},fe=(t,e=0,r=e)=>{t.setSelectionRange?setTimeout(()=>{t.setSelectionRange(e,r),t.focus()},0):console.log("can not reset position\uFF01")},kt=(t,e,r)=>{const{deviationStart:o=0,deviationEnd:c=0,direct:a=!1,select:m=!1}=r;let s="";if(t.selectionStart||t.selectionStart===0){const g=t.selectionStart,x=t.selectionEnd||0,{prefixVal:w=t.value.substring(0,g),subfixVal:F=t.value.substring(x,t.value.length)}=r;s=w+e+F,fe(t,m?g+o:g+e.length+c,g+e.length+c)}else s+=e;return a&&(t.value=s),s},Hi=(t,e={newWindow:!0,nofollow:!0})=>{t||console.warn("\u65E0\u6548\u7684\u94FE\u63A5\uFF01");const r=document.createElement("a");r.href=t,r.style.display="none",e.newWindow&&(r.target="_blank"),e.nofollow&&(r.rel="noopener noreferrer"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},fn=(t,e)=>{const r=t.clientHeight,o=e.clientHeight,c=t.scrollHeight,a=e.scrollHeight,m=(c-r)/(a-o),s=Pi(()=>{t.removeEventListener("scroll",g),t.addEventListener("scroll",g),e.removeEventListener("scroll",g),e.addEventListener("scroll",g)},50),g=x=>{x.target===t?(e.removeEventListener("scroll",g),e.scrollTo({top:t.scrollTop/m}),s()):(t.removeEventListener("scroll",g),t.scrollTo({top:e.scrollTop*m}),s())};return s(),()=>{t.removeEventListener("scroll",g),e.removeEventListener("scroll",g)}},Li=(t,e="image.png")=>{const r=t.split(","),o=r[0].match(/:(.*?);/);if(o){const c=o[1],a=atob(r[1]);let m=a.length;const s=new Uint8Array(m);for(;m--;)s[m]=a.charCodeAt(m);return new File([s],e,{type:c})}return null},pn=t=>{if(!t.trim())return t;const e=t.split(`
`),r=['<span rn-wrapper aria-hidden="true">'];return e.forEach(()=>{r.push("<span></span>")}),r.push("</span>"),`<span class="code-block">${t}</span>${r.join("")}`},Pi=(t,e=200)=>{let r=0;return(...o)=>{r&&clearTimeout(r),r=window.setTimeout(()=>{t.apply(globalThis,o),r=0},e)}};var zi=()=>h.createElement("div",{className:`${b}-divider`});const hn=t=>{const e=`${b}-dropdown-hidden`,[r,o]=y.exports.useState({overlayClass:[e],overlayStyle:{},triggerHover:!1,overlayHover:!1}),c=y.exports.useRef(null),a=y.exports.useRef(null),m=()=>{t.trigger==="hover"&&(r.triggerHover=!0);const _=c.current,P=a.current,M=_.getBoundingClientRect(),Z=_.offsetTop,ue=_.offsetLeft,N=M.height,q=M.width;o(G(J({},r),{overlayStyle:{top:Z+N+"px",left:ue-P.offsetWidth/2+q/2+"px"}})),t.onChange(!0)},s=()=>{r.overlayHover=!0};y.exports.useEffect(()=>{t.visible?o(_=>G(J({},_),{overlayClass:r.overlayClass.filter(P=>P!==e)})):o(_=>G(J({},_),{overlayClass:[..._.overlayClass,e]}))},[t.visible]);const g=_=>{const P=c.current,M=a.current;!P.contains(_.target)&&!M.contains(_.target)&&t.onChange(!1)};let x=-1;const w=_=>{c.current===_.target?r.triggerHover=!1:r.overlayHover=!1,clearTimeout(x),x=window.setTimeout(()=>{!r.overlayHover&&!r.triggerHover&&t.onChange(!1)},10)};y.exports.useEffect(()=>(t.trigger==="click"?(c.current.addEventListener("click",m),document.addEventListener("click",g)):(c.current.addEventListener("mouseenter",m),c.current.addEventListener("mouseleave",w),a.current.addEventListener("mouseenter",s),a.current.addEventListener("mouseleave",w)),()=>{t.trigger==="click"&&c.current?(c.current.removeEventListener("click",m),document.removeEventListener("click",g)):(c.current&&(c.current.removeEventListener("mouseenter",m),c.current.removeEventListener("mouseleave",w)),a.current&&(a.current.removeEventListener("mouseenter",s),a.current.removeEventListener("mouseleave",w)))}),[]);const F=t.children,C=t.overlay,k=y.exports.cloneElement(F,{ref:c}),$=h.createElement("div",{className:ut(`${b}-dropdown`,r.overlayClass),style:r.overlayStyle,ref:a},h.createElement("div",{className:`${b}-dropdown-overlay`},C instanceof Array?C[0]:C));return h.createElement(h.Fragment,null,k,$)},Ft=t=>{const{onClosed:e=()=>{}}=t,[r,o]=y.exports.useState(t.visible),[c,a]=y.exports.useState([`${b}-modal`]),m=y.exports.useRef(null),s=y.exports.useRef(null),[g,x]=y.exports.useState({initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),[w,F]=y.exports.useState(!1);return y.exports.useEffect(()=>{let C=()=>{};return t.isFullscreen||(C=Ii(s.current,(k,$)=>{x(G(J({},g),{initPos:{left:k+"px",top:$+"px"}}))})),C},[w,t.isFullscreen]),y.exports.useEffect(()=>{if(r){const C=m.current.offsetWidth/2,k=m.current.offsetHeight/2,$=document.documentElement.clientWidth/2,_=document.documentElement.clientHeight/2;x(G(J({},g),{initPos:{left:$-C+"px",top:_-k+"px"}})),!w&&F(!0)}},[r]),y.exports.useEffect(()=>{const C=t.visible;C?(a(()=>[`${b}-modal`,"zoom-in"]),o(C)):w&&(a(()=>[`${b}-modal`,"zoom-out"]),setTimeout(()=>{o(C)},150))},[t.visible]),h.createElement("div",{style:{display:r?"block":"none"}},h.createElement("div",{className:`${b}-modal-mask`,onClick:e}),h.createElement("div",{className:ut(c),style:G(J({},g.initPos),{width:t.width,height:t.height}),ref:m},h.createElement("div",{className:`${b}-modal-header`,ref:s},t.title||""),h.createElement("div",{className:`${b}-modal-func`},t.showAdjust&&h.createElement("div",{className:`${b}-modal-adjust`,onClick:C=>{C.stopPropagation(),t.isFullscreen?x(k=>G(J({},k),{initPos:k.historyPos})):x(k=>({historyPos:k.initPos,initPos:{left:"0",top:"0"}})),t.onAdjust(!t.isFullscreen)}},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:`#icon-${t.isFullscreen?"suoxiao":"fangda"}`}))),h.createElement("div",{className:`${b}-modal-close`,onClick:C=>{C.stopPropagation(),t.onClosed&&t.onClosed()}},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-close"})))),h.createElement("div",{className:`${b}-modal-body`},t.children)))};Ft.defaultProps={onAdjust(){}};const Ui=t=>{var e,r,o,c,a;const{usedLanguageText:m}=y.exports.useContext(pe),{editorId:s}=y.exports.useContext(pe),g=y.exports.useMemo(()=>{var F,C,k,$;switch(t.type){case"link":return`${(F=m.linkModalTips)==null?void 0:F.title}${(C=m.toolbarTips)==null?void 0:C.link}`;case"image":return`${(k=m.linkModalTips)==null?void 0:k.title}${($=m.toolbarTips)==null?void 0:$.image}`;default:return""}},[t.type]),[x,w]=y.exports.useState({desc:"",url:""});return y.exports.useEffect(()=>{t.visible||setTimeout(()=>{w({desc:"",url:""})},200)},[t.visible]),h.createElement(Ft,{title:g,visible:t.visible,onClosed:t.onCancel},h.createElement("div",{className:`${b}-form-item`},h.createElement("label",{className:`${b}-lable`,htmlFor:`link-desc-${s}`},(e=m.linkModalTips)==null?void 0:e.descLable),h.createElement("input",{placeholder:(r=m.linkModalTips)==null?void 0:r.descLablePlaceHolder,className:`${b}-input`,id:`link-desc-${s}`,type:"text",value:x.desc,onChange:F=>{w(G(J({},x),{desc:F.target.value}))}})),h.createElement("div",{className:`${b}-form-item`},h.createElement("label",{className:`${b}-lable`,htmlFor:`link-url-${s}`},(o=m.linkModalTips)==null?void 0:o.urlLable),h.createElement("input",{placeholder:(c=m.linkModalTips)==null?void 0:c.UrlLablePlaceHolder,className:`${b}-input`,id:`link-url-${s}`,type:"text",value:x.url,onChange:F=>{w(G(J({},x),{url:F.target.value}))}})),h.createElement("div",{className:`${b}-form-item`},h.createElement("button",{className:`${b}-btn ${b}-btn-row`,type:"button",onClick:()=>{t.onOk(x),w(G(J({},x),{desc:"",url:""}))}},(a=m.linkModalTips)==null?void 0:a.buttonOK)))};let we=null;const qi=t=>{var e,r;const o=y.exports.useContext(pe),{editorId:c,usedLanguageText:a,Cropper:m}=o,s=y.exports.useRef(null),g=y.exports.useRef(null),x=y.exports.useRef(null),[w,F]=y.exports.useState({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});y.exports.useEffect(()=>{t.visible&&!w.cropperInited&&(window.Cropper=m||window.Cropper,s.current.onchange=()=>{const $=s.current.files||[];if(($==null?void 0:$.length)>0){const _=new FileReader;_.onload=P=>{F(M=>G(J({},M),{imgSelected:!0,imgSrc:P.target.result}))},_.readAsDataURL($[0])}})},[t.visible]),y.exports.useEffect(()=>{w.imgSrc&&(we=new window.Cropper(g.current,{viewMode:2,preview:`.${b}-clip-preview-target`}))},[w.imgSrc]),y.exports.useEffect(()=>{var $;($=x.current)==null||$.setAttribute("style","")},[w.imgSelected]),y.exports.useEffect(()=>{var $;we==null||we.destroy(),($=x.current)==null||$.setAttribute("style",""),g.current&&(we=new window.Cropper(g.current,{viewMode:2,preview:`.${b}-clip-preview-target`}))},[w.isFullscreen]);const C=y.exports.useMemo(()=>w.isFullscreen?{width:"100%",height:"100%"}:{width:"668px",height:"392px"},[w.isFullscreen]),k=()=>{we.destroy(),s.current.value="",F($=>G(J({},$),{imgSrc:"",imgSelected:!1}))};return h.createElement(Ft,J({title:(e=a.clipModalTips)==null?void 0:e.title,visible:t.visible,onClosed:t.onCancel,showAdjust:!0,isFullscreen:w.isFullscreen,onAdjust:$=>{F(G(J({},w),{isFullscreen:$}))}},C),h.createElement("div",{className:`${b}-form-item ${b}-clip`},h.createElement("div",{className:`${b}-clip-main`},w.imgSelected?h.createElement("div",{className:`${b}-clip-cropper`},h.createElement("img",{src:w.imgSrc,ref:g,style:{display:"none"}}),h.createElement("div",{className:`${b}-clip-delete`,onClick:k},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-delete"})))):h.createElement("div",{className:`${b}-clip-upload`,onClick:()=>{s.current.click()}},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-upload"})))),h.createElement("div",{className:`${b}-clip-preview`},h.createElement("div",{className:`${b}-clip-preview-target`,ref:x}))),h.createElement("div",{className:`${b}-form-item`},h.createElement("button",{className:`${b}-btn`,type:"button",onClick:()=>{const $=we.getCroppedCanvas();I.emit(c,"uploadImage",[Li($.toDataURL("image/png"))],t.onOk),k()}},(r=a.linkModalTips)==null?void 0:r.buttonOK)),h.createElement("input",{ref:s,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}}))},Mi=t=>h.createElement(h.Fragment,null,h.createElement(Ui,{type:t.type,visible:t.linkVisible,onOk:t.onOk,onCancel:t.onCancel}),h.createElement(qi,{visible:t.clipVisible,onOk:t.onOk,onCancel:t.onCancel})),Vi=t=>{let{screenfull:e}=t;const{previewOnly:r}=y.exports.useContext(pe),o=y.exports.useCallback(()=>{e.isEnabled?e.isFullscreen?e.exit():e.request():console.error("browser does not support screenfull!")},[e]),c=()=>{e=window.screenfull,e&&e.isEnabled&&e.on("change",()=>{t.updateSetting("fullscreen")})};return y.exports.useEffect(()=>{let a;return!r&&!t.screenfull&&(a=document.createElement("script"),a.src=t.screenfullJs,a.addEventListener("load",c),a.id=`${b}-screenfull`,ge(a)),!r&&e&&e.isEnabled&&e.on("change",()=>{t.updateSetting("fullscreen")}),()=>{!r&&!t.screenfull&&document.head.removeChild(a)}},[]),{fullScreenHandler:o,screenfullLoad:c}},Ki=t=>{const{toolbars:e,toolbarsExclude:r,setting:o,updateSetting:c}=t,{editorId:a,usedLanguageText:m}=y.exports.useContext(pe),s=m,{fullScreenHandler:g}=Vi(t),[x,w]=y.exports.useState({title:!1,catalog:!1,image:!1}),F=(N,q)=>{I.emit(a,"replace",N,q)},[C,k]=y.exports.useState({type:"link",linkVisible:!1,clipVisible:!1}),$=y.exports.useRef(null);let _=0;const P=N=>{var q,O,z,V,Y,se,De,ye,He,Le,Pe,Ae,ze,Ue,qe,te,Me,ve,be,ae,Ve,$e,Ke,Se,he,K,de,T,B,Be,Ze,Je,Ee,me;switch(N){case"-":return h.createElement(zi,{key:`bar-${_++}`});case"bold":return h.createElement("div",{className:`${b}-toolbar-item`,title:(q=s.toolbarTips)==null?void 0:q.bold,onClick:()=>{F("bold")},key:"bar-bold"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-bold"})));case"underline":return h.createElement("div",{className:`${b}-toolbar-item`,title:(O=s.toolbarTips)==null?void 0:O.underline,onClick:()=>{F("underline")},key:"bar-underline"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-underline"})));case"italic":return h.createElement("div",{className:`${b}-toolbar-item`,title:(z=s.toolbarTips)==null?void 0:z.italic,onClick:()=>{F("italic")},key:"bar-italic"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-italic"})));case"strikeThrough":return h.createElement("div",{className:`${b}-toolbar-item`,title:(V=s.toolbarTips)==null?void 0:V.strikeThrough,onClick:()=>{F("strikeThrough")},key:"bar-strikeThrough"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-strike-through"})));case"title":return h.createElement(hn,{visible:x.title,onChange:ke=>{w(G(J({},x),{title:ke}))},overlay:h.createElement("ul",{className:`${b}-menu`,onClick:()=>{w(G(J({},x),{title:!1}))}},h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{F("h1")}},(Y=s.titleItem)==null?void 0:Y.h1),h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{F("h2")}},(se=s.titleItem)==null?void 0:se.h2),h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{F("h3")}},(De=s.titleItem)==null?void 0:De.h3),h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{F("h4")}},(ye=s.titleItem)==null?void 0:ye.h4),h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{F("h5")}},(He=s.titleItem)==null?void 0:He.h5),h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{F("h6")}},(Le=s.titleItem)==null?void 0:Le.h6)),key:"bar-title"},h.createElement("div",{className:`${b}-toolbar-item`,title:(Pe=s.toolbarTips)==null?void 0:Pe.title},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-title"}))));case"sub":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Ae=s.toolbarTips)==null?void 0:Ae.sub,onClick:()=>{F("sub")},key:"bar-sub"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-sub"})));case"sup":return h.createElement("div",{className:`${b}-toolbar-item`,title:(ze=s.toolbarTips)==null?void 0:ze.sup,onClick:()=>{F("sup")},key:"bar-sup"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-sup"})));case"quote":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Ue=s.toolbarTips)==null?void 0:Ue.quote,onClick:()=>{F("quote")},key:"bar-quote"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-quote"})));case"unorderedList":return h.createElement("div",{className:`${b}-toolbar-item`,title:(qe=s.toolbarTips)==null?void 0:qe.unorderedList,onClick:()=>{F("unorderedList")},key:"bar-unorderedList"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-unordered-list"})));case"orderedList":return h.createElement("div",{className:`${b}-toolbar-item`,title:(te=s.toolbarTips)==null?void 0:te.orderedList,onClick:()=>{F("orderedList")},key:"bar-orderedList"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-ordered-list"})));case"codeRow":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Me=s.toolbarTips)==null?void 0:Me.codeRow,onClick:()=>{F("codeRow")},key:"bar-codeRow"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-code-row"})));case"code":return h.createElement("div",{className:`${b}-toolbar-item`,title:(ve=s.toolbarTips)==null?void 0:ve.code,onClick:()=>{F("code")},key:"bar-code"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-code"})));case"link":return h.createElement("div",{className:`${b}-toolbar-item`,title:(be=s.toolbarTips)==null?void 0:be.link,onClick:()=>{k(G(J({},C),{type:"link",linkVisible:!0}))},key:"bar-link"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-link"})));case"image":return h.createElement(hn,{visible:x.image,onChange:ke=>{w(G(J({},x),{image:ke}))},overlay:h.createElement("ul",{className:`${b}-menu`,onClick:()=>{w(G(J({},x),{title:!1}))}},h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{C.type="image",C.linkVisible=!0}},(ae=s.imgTitleItem)==null?void 0:ae.link),h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{Z.current.click()}},(Ve=s.imgTitleItem)==null?void 0:Ve.upload),h.createElement("li",{className:`${b}-menu-item`,onClick:()=>{C.clipVisible=!0}},($e=s.imgTitleItem)==null?void 0:$e.clip2upload)),key:"bar-image"},h.createElement("div",{className:`${b}-toolbar-item`,title:(Ke=s.toolbarTips)==null?void 0:Ke.image},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-image"}))));case"table":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Se=s.toolbarTips)==null?void 0:Se.table,onClick:()=>{F("table")},key:"bar-table"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-table"})));case"revoke":return h.createElement("div",{className:`${b}-toolbar-item`,title:(he=s.toolbarTips)==null?void 0:he.revoke,onClick:()=>{I.emit(a,"ctrlZ")},key:"bar-revoke"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-revoke"})));case"next":return h.createElement("div",{className:`${b}-toolbar-item`,title:(K=s.toolbarTips)==null?void 0:K.next,onClick:()=>{I.emit(a,"ctrlShiftZ")},key:"bar-next"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-next"})));case"save":return h.createElement("div",{className:`${b}-toolbar-item`,title:(de=s.toolbarTips)==null?void 0:de.save,onClick:()=>{I.emit(a,"onSave")},key:"bar-save"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-baocun"})));case"prettier":return t.prettier?h.createElement("div",{className:`${b}-toolbar-item`,title:(T=s.toolbarTips)==null?void 0:T.prettier,onClick:()=>{F("prettier")},key:"bar-prettier"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-prettier"}))):"";case"pageFullscreen":return!o.fullscreen&&h.createElement("div",{className:`${b}-toolbar-item`,title:(B=s.toolbarTips)==null?void 0:B.pageFullscreen,onClick:()=>{c("pageFullScreen")},key:"bar-pageFullscreen"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:`#icon-${o.pageFullScreen?"suoxiao":"fangda"}`})));case"fullscreen":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Be=s.toolbarTips)==null?void 0:Be.fullscreen,onClick:g,key:"bar-fullscreen"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:`#icon-${o.fullscreen?"fullScreen-exit":"fullScreen"}`})));case"catalog":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Ze=s.toolbarTips)==null?void 0:Ze.catalog,onClick:()=>{I.emit(a,"catalogShow")},key:"bar-catalog"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-catalog"})));case"preview":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Je=s.toolbarTips)==null?void 0:Je.preview,onClick:()=>{c("preview")},key:"bar-preview"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-preview"})));case"htmlPreview":return h.createElement("div",{className:`${b}-toolbar-item`,title:(Ee=s.toolbarTips)==null?void 0:Ee.htmlPreview,onClick:()=>{c("htmlPreview")},key:"bar-htmlPreview"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-coding"})));case"github":return h.createElement("div",{className:`${b}-toolbar-item`,title:(me=s.toolbarTips)==null?void 0:me.github,onClick:()=>Hi("https://github.com/imzbf/md-editor-rt"),key:"bar-github"},h.createElement("svg",{className:`${b}-icon`,"aria-hidden":"true"},h.createElement("use",{xlinkHref:"#icon-github"})))}},M=y.exports.useMemo(()=>{const N=e.filter(V=>!r.includes(V)),q=N.indexOf("="),O=q===-1?N:N.slice(0,q+1),z=q===-1?[]:N.slice(q,Number.MAX_SAFE_INTEGER);return[O,z]},[e,r]),Z=y.exports.useRef(null),ue=()=>{I.emit(a,"uploadImage",Z.current.files),Z.current.value=""};return y.exports.useEffect(()=>{var N;I.on(a,{name:"openModals",callback(q){k(G(J({},C),{type:q,linkVisible:!0}))}}),(N=$.current)==null||N.addEventListener("mouseover",()=>{var q;((q=window.getSelection())==null?void 0:q.toString())||I.emit(a,"selectTextChange","")}),Z.current.addEventListener("change",ue)},[]),h.createElement("div",{className:`${b}-toolbar-wrapper`},h.createElement("div",{className:`${b}-toolbar`},h.createElement("div",{className:`${b}-toolbar-left`,ref:$},M[0].map(N=>P(N))),h.createElement("div",{className:`${b}-toolbar-right`},M[1].map(N=>P(N)))),h.createElement("input",{ref:Z,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}}),h.createElement(Mi,{linkVisible:C.linkVisible,clipVisible:C.clipVisible,type:C.type,onCancel:()=>{k(G(J({},C),{linkVisible:!1,clipVisible:!1}))},onOk:N=>{N&&F(C.type,{desc:N.desc,url:N.url}),k(G(J({},C),{linkVisible:!1,clipVisible:!1}))}}))};var mn={exports:{}};(function(t,e){(function(r,o){t.exports=o()})(Bi,function(){function r(D,d){for(var p=0;p<d.length;p++){var n=d[p];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(D,n.key,n)}}function o(D,d,p){return d&&r(D.prototype,d),p&&r(D,p),D}function c(D,d){if(!!D){if(typeof D=="string")return a(D,d);var p=Object.prototype.toString.call(D).slice(8,-1);if(p==="Object"&&D.constructor&&(p=D.constructor.name),p==="Map"||p==="Set")return Array.from(D);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return a(D,d)}}function a(D,d){(d==null||d>D.length)&&(d=D.length);for(var p=0,n=new Array(d);p<d;p++)n[p]=D[p];return n}function m(D,d){var p=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(p)return(p=p.call(D)).next.bind(p);if(Array.isArray(D)||(p=c(D))||d&&D&&typeof D.length=="number"){p&&(D=p);var n=0;return function(){return n>=D.length?{done:!0}:{done:!1,value:D[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s={exports:{}};function g(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function x(D){s.exports.defaults=D}s.exports={defaults:g(),getDefaults:g,changeDefaults:x};var w=/[&<>"']/,F=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,k=/[<>"']|&(?!#?\w+;)/g,$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_=function(d){return $[d]};function P(D,d){if(d){if(w.test(D))return D.replace(F,_)}else if(C.test(D))return D.replace(k,_);return D}var M=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Z(D){return D.replace(M,function(d,p){return p=p.toLowerCase(),p==="colon"?":":p.charAt(0)==="#"?p.charAt(1)==="x"?String.fromCharCode(parseInt(p.substring(2),16)):String.fromCharCode(+p.substring(1)):""})}var ue=/(^|[^\[])\^/g;function N(D,d){D=D.source||D,d=d||"";var p={replace:function(i,u){return u=u.source||u,u=u.replace(ue,"$1"),D=D.replace(i,u),p},getRegex:function(){return new RegExp(D,d)}};return p}var q=/[^\w:]/g,O=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function z(D,d,p){if(D){var n;try{n=decodeURIComponent(Z(p)).replace(q,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}d&&!O.test(p)&&(p=ye(d,p));try{p=encodeURI(p).replace(/%25/g,"%")}catch{return null}return p}var V={},Y=/^[^:]+:\/*[^/]*$/,se=/^([^:]+:)[\s\S]*$/,De=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ye(D,d){V[" "+D]||(Y.test(D)?V[" "+D]=D+"/":V[" "+D]=Ae(D,"/",!0)),D=V[" "+D];var p=D.indexOf(":")===-1;return d.substring(0,2)==="//"?p?d:D.replace(se,"$1")+d:d.charAt(0)==="/"?p?d:D.replace(De,"$1")+d:D+d}var He={exec:function(){}};function Le(D){for(var d=1,p,n;d<arguments.length;d++){p=arguments[d];for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(D[n]=p[n])}return D}function Pe(D,d){var p=D.replace(/\|/g,function(u,f,l){for(var v=!1,E=f;--E>=0&&l[E]==="\\";)v=!v;return v?"|":" |"}),n=p.split(/ \|/),i=0;if(n.length>d)n.splice(d);else for(;n.length<d;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Ae(D,d,p){var n=D.length;if(n===0)return"";for(var i=0;i<n;){var u=D.charAt(n-i-1);if(u===d&&!p)i++;else if(u!==d&&p)i++;else break}return D.substr(0,n-i)}function ze(D,d){if(D.indexOf(d[1])===-1)return-1;for(var p=D.length,n=0,i=0;i<p;i++)if(D[i]==="\\")i++;else if(D[i]===d[0])n++;else if(D[i]===d[1]&&(n--,n<0))return i;return-1}function Ue(D){D&&D.sanitize&&!D.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function qe(D,d){if(d<1)return"";for(var p="";d>1;)d&1&&(p+=D),d>>=1,D+=D;return p+D}var te={escape:P,unescape:Z,edit:N,cleanUrl:z,resolveUrl:ye,noopTest:He,merge:Le,splitCells:Pe,rtrim:Ae,findClosingBracket:ze,checkSanitizeDeprecation:Ue,repeatString:qe},Me=s.exports.defaults,ve=te.rtrim,be=te.splitCells,ae=te.escape,Ve=te.findClosingBracket;function $e(D,d,p){var n=d.href,i=d.title?ae(d.title):null,u=D[1].replace(/\\([\[\]])/g,"$1");return D[0].charAt(0)!=="!"?{type:"link",raw:p,href:n,title:i,text:u}:{type:"image",raw:p,href:n,title:i,text:ae(u)}}function Ke(D,d){var p=D.match(/^(\s+)(?:```)/);if(p===null)return d;var n=p[1];return d.split(`
`).map(function(i){var u=i.match(/^\s+/);if(u===null)return i;var f=u[0];return f.length>=n.length?i.slice(n.length):i}).join(`
`)}var Se=function(){function D(p){this.options=p||Me}var d=D.prototype;return d.space=function(n){var i=this.rules.block.newline.exec(n);if(i)return i[0].length>1?{type:"space",raw:i[0]}:{raw:`
`}},d.code=function(n){var i=this.rules.block.code.exec(n);if(i){var u=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?u:ve(u,`
`)}}},d.fences=function(n){var i=this.rules.block.fences.exec(n);if(i){var u=i[0],f=Ke(u,i[3]||"");return{type:"code",raw:u,lang:i[2]?i[2].trim():i[2],text:f}}},d.heading=function(n){var i=this.rules.block.heading.exec(n);if(i){var u=i[2].trim();if(/#$/.test(u)){var f=ve(u,"#");(this.options.pedantic||!f||/ $/.test(f))&&(u=f.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:u}}},d.nptable=function(n){var i=this.rules.block.nptable.exec(n);if(i){var u={type:"table",header:be(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split(`
`):[],raw:i[0]};if(u.header.length===u.align.length){var f=u.align.length,l;for(l=0;l<f;l++)/^ *-+: *$/.test(u.align[l])?u.align[l]="right":/^ *:-+: *$/.test(u.align[l])?u.align[l]="center":/^ *:-+ *$/.test(u.align[l])?u.align[l]="left":u.align[l]=null;for(f=u.cells.length,l=0;l<f;l++)u.cells[l]=be(u.cells[l],u.header.length);return u}}},d.hr=function(n){var i=this.rules.block.hr.exec(n);if(i)return{type:"hr",raw:i[0]}},d.blockquote=function(n){var i=this.rules.block.blockquote.exec(n);if(i){var u=i[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:i[0],text:u}}},d.list=function(n){var i=this.rules.block.list.exec(n);if(i){var u=i[0],f=i[2],l=f.length>1,v={type:"list",raw:u,ordered:l,start:l?+f.slice(0,-1):"",loose:!1,items:[]},E=i[0].match(this.rules.block.item),A=!1,S,L,U,j,R,W,X,ne,le,Q=E.length;U=this.rules.block.listItemStart.exec(E[0]);for(var ee=0;ee<Q;ee++){if(S=E[ee],u=S,this.options.pedantic||(le=S.match(new RegExp("\\n\\s*\\n {0,"+(U[0].length-1)+"}\\S")),le&&(R=S.length-le.index+E.slice(ee+1).join(`
`).length,v.raw=v.raw.substring(0,v.raw.length-R),S=S.substring(0,le.index),u=S,Q=ee+1)),ee!==Q-1){if(j=this.rules.block.listItemStart.exec(E[ee+1]),this.options.pedantic?j[1].length>U[1].length:j[1].length>=U[0].length||j[1].length>3){E.splice(ee,2,E[ee]+(!this.options.pedantic&&j[1].length<U[0].length&&!E[ee].match(/\n$/)?"":`
`)+E[ee+1]),ee--,Q--;continue}else(!this.options.pedantic||this.options.smartLists?j[2][j[2].length-1]!==f[f.length-1]:l===(j[2].length===1))&&(R=E.slice(ee+1).join(`
`).length,v.raw=v.raw.substring(0,v.raw.length-R),ee=Q-1);U=j}L=S.length,S=S.replace(/^ *([*+-]|\d+[.)]) ?/,""),~S.indexOf(`
 `)&&(L-=S.length,S=this.options.pedantic?S.replace(/^ {1,4}/gm,""):S.replace(new RegExp("^ {1,"+L+"}","gm"),"")),S=ve(S,`
`),ee!==Q-1&&(u=u+`
`),W=A||/\n\n(?!\s*$)/.test(u),ee!==Q-1&&(A=u.slice(-2)===`

`,W||(W=A)),W&&(v.loose=!0),this.options.gfm&&(X=/^\[[ xX]\] /.test(S),ne=void 0,X&&(ne=S[1]!==" ",S=S.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:u,task:X,checked:ne,loose:W,text:S})}return v}},d.html=function(n){var i=this.rules.block.html.exec(n);if(i)return{type:this.options.sanitize?"paragraph":"html",raw:i[0],pre:!this.options.sanitizer&&(i[1]==="pre"||i[1]==="script"||i[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):ae(i[0]):i[0]}},d.def=function(n){var i=this.rules.block.def.exec(n);if(i){i[3]&&(i[3]=i[3].substring(1,i[3].length-1));var u=i[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:u,raw:i[0],href:i[2],title:i[3]}}},d.table=function(n){var i=this.rules.block.table.exec(n);if(i){var u={type:"table",header:be(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split(`
`):[]};if(u.header.length===u.align.length){u.raw=i[0];var f=u.align.length,l;for(l=0;l<f;l++)/^ *-+: *$/.test(u.align[l])?u.align[l]="right":/^ *:-+: *$/.test(u.align[l])?u.align[l]="center":/^ *:-+ *$/.test(u.align[l])?u.align[l]="left":u.align[l]=null;for(f=u.cells.length,l=0;l<f;l++)u.cells[l]=be(u.cells[l].replace(/^ *\| *| *\| *$/g,""),u.header.length);return u}}},d.lheading=function(n){var i=this.rules.block.lheading.exec(n);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1]}},d.paragraph=function(n){var i=this.rules.block.paragraph.exec(n);if(i)return{type:"paragraph",raw:i[0],text:i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1]}},d.text=function(n){var i=this.rules.block.text.exec(n);if(i)return{type:"text",raw:i[0],text:i[0]}},d.escape=function(n){var i=this.rules.inline.escape.exec(n);if(i)return{type:"escape",raw:i[0],text:ae(i[1])}},d.tag=function(n,i,u){var f=this.rules.inline.tag.exec(n);if(f)return!i&&/^<a /i.test(f[0])?i=!0:i&&/^<\/a>/i.test(f[0])&&(i=!1),!u&&/^<(pre|code|kbd|script)(\s|>)/i.test(f[0])?u=!0:u&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(f[0])&&(u=!1),{type:this.options.sanitize?"text":"html",raw:f[0],inLink:i,inRawBlock:u,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):ae(f[0]):f[0]}},d.link=function(n){var i=this.rules.inline.link.exec(n);if(i){var u=i[2].trim();if(!this.options.pedantic&&/^</.test(u)){if(!/>$/.test(u))return;var f=ve(u.slice(0,-1),"\\");if((u.length-f.length)%2==0)return}else{var l=Ve(i[2],"()");if(l>-1){var v=i[0].indexOf("!")===0?5:4,E=v+i[1].length+l;i[2]=i[2].substring(0,l),i[0]=i[0].substring(0,E).trim(),i[3]=""}}var A=i[2],S="";if(this.options.pedantic){var L=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(A);L&&(A=L[1],S=L[3])}else S=i[3]?i[3].slice(1,-1):"";return A=A.trim(),/^</.test(A)&&(this.options.pedantic&&!/>$/.test(u)?A=A.slice(1):A=A.slice(1,-1)),$e(i,{href:A&&A.replace(this.rules.inline._escapes,"$1"),title:S&&S.replace(this.rules.inline._escapes,"$1")},i[0])}},d.reflink=function(n,i){var u;if((u=this.rules.inline.reflink.exec(n))||(u=this.rules.inline.nolink.exec(n))){var f=(u[2]||u[1]).replace(/\s+/g," ");if(f=i[f.toLowerCase()],!f||!f.href){var l=u[0].charAt(0);return{type:"text",raw:l,text:l}}return $e(u,f,u[0])}},d.emStrong=function(n,i,u){u===void 0&&(u="");var f=this.rules.inline.emStrong.lDelim.exec(n);if(!!f&&!(f[3]&&u.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var l=f[1]||f[2]||"";if(!l||l&&(u===""||this.rules.inline.punctuation.exec(u))){var v=f[0].length-1,E,A,S=v,L=0,U=f[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(U.lastIndex=0,i=i.slice(-1*n.length+v);(f=U.exec(i))!=null;)if(E=f[1]||f[2]||f[3]||f[4]||f[5]||f[6],!!E){if(A=E.length,f[3]||f[4]){S+=A;continue}else if((f[5]||f[6])&&v%3&&!((v+A)%3)){L+=A;continue}if(S-=A,!(S>0))return A=Math.min(A,A+S+L),Math.min(v,A)%2?{type:"em",raw:n.slice(0,v+f.index+A+1),text:n.slice(1,v+f.index+A)}:{type:"strong",raw:n.slice(0,v+f.index+A+1),text:n.slice(2,v+f.index+A-1)}}}}},d.codespan=function(n){var i=this.rules.inline.code.exec(n);if(i){var u=i[2].replace(/\n/g," "),f=/[^ ]/.test(u),l=/^ /.test(u)&&/ $/.test(u);return f&&l&&(u=u.substring(1,u.length-1)),u=ae(u,!0),{type:"codespan",raw:i[0],text:u}}},d.br=function(n){var i=this.rules.inline.br.exec(n);if(i)return{type:"br",raw:i[0]}},d.del=function(n){var i=this.rules.inline.del.exec(n);if(i)return{type:"del",raw:i[0],text:i[2]}},d.autolink=function(n,i){var u=this.rules.inline.autolink.exec(n);if(u){var f,l;return u[2]==="@"?(f=ae(this.options.mangle?i(u[1]):u[1]),l="mailto:"+f):(f=ae(u[1]),l=f),{type:"link",raw:u[0],text:f,href:l,tokens:[{type:"text",raw:f,text:f}]}}},d.url=function(n,i){var u;if(u=this.rules.inline.url.exec(n)){var f,l;if(u[2]==="@")f=ae(this.options.mangle?i(u[0]):u[0]),l="mailto:"+f;else{var v;do v=u[0],u[0]=this.rules.inline._backpedal.exec(u[0])[0];while(v!==u[0]);f=ae(u[0]),u[1]==="www."?l="http://"+f:l=f}return{type:"link",raw:u[0],text:f,href:l,tokens:[{type:"text",raw:f,text:f}]}}},d.inlineText=function(n,i,u){var f=this.rules.inline.text.exec(n);if(f){var l;return i?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):ae(f[0]):f[0]:l=ae(this.options.smartypants?u(f[0]):f[0]),{type:"text",raw:f[0],text:l}}},D}(),he=te.noopTest,K=te.edit,de=te.merge,T={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:he,table:he,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};T._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,T._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,T.def=K(T.def).replace("label",T._label).replace("title",T._title).getRegex(),T.bullet=/(?:[*+-]|\d{1,9}[.)])/,T.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,T.item=K(T.item,"gm").replace(/bull/g,T.bullet).getRegex(),T.listItemStart=K(/^( *)(bull) */).replace("bull",T.bullet).getRegex(),T.list=K(T.list).replace(/bull/g,T.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+T.def.source+")").getRegex(),T._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",T._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,T.html=K(T.html,"i").replace("comment",T._comment).replace("tag",T._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),T.paragraph=K(T._paragraph).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex(),T.blockquote=K(T.blockquote).replace("paragraph",T.paragraph).getRegex(),T.normal=de({},T),T.gfm=de({},T.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),T.gfm.nptable=K(T.gfm.nptable).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex(),T.gfm.table=K(T.gfm.table).replace("hr",T.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T._tag).getRegex(),T.pedantic=de({},T.normal,{html:K(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",T._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:he,paragraph:K(T.normal._paragraph).replace("hr",T.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",T.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var B={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:he,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:he,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};B._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",B.punctuation=K(B.punctuation).replace(/punctuation/g,B._punctuation).getRegex(),B.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,B.escapedEmSt=/\\\*|\\_/g,B._comment=K(T._comment).replace("(?:-->|$)","-->").getRegex(),B.emStrong.lDelim=K(B.emStrong.lDelim).replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimAst=K(B.emStrong.rDelimAst,"g").replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimUnd=K(B.emStrong.rDelimUnd,"g").replace(/punct/g,B._punctuation).getRegex(),B._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,B._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,B._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,B.autolink=K(B.autolink).replace("scheme",B._scheme).replace("email",B._email).getRegex(),B._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,B.tag=K(B.tag).replace("comment",B._comment).replace("attribute",B._attribute).getRegex(),B._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,B._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,B.link=K(B.link).replace("label",B._label).replace("href",B._href).replace("title",B._title).getRegex(),B.reflink=K(B.reflink).replace("label",B._label).getRegex(),B.reflinkSearch=K(B.reflinkSearch,"g").replace("reflink",B.reflink).replace("nolink",B.nolink).getRegex(),B.normal=de({},B),B.pedantic=de({},B.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:K(/^!?\[(label)\]\((.*?)\)/).replace("label",B._label).getRegex(),reflink:K(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B._label).getRegex()}),B.gfm=de({},B.normal,{escape:K(B.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),B.gfm.url=K(B.gfm.url,"i").replace("email",B.gfm._extended_email).getRegex(),B.breaks=de({},B.gfm,{br:K(B.br).replace("{2,}","*").getRegex(),text:K(B.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Be={block:T,inline:B},Ze=Se,Je=s.exports.defaults,Ee=Be.block,me=Be.inline,ke=te.repeatString;function Cn(D){return D.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function wt(D){var d="",p,n,i=D.length;for(p=0;p<i;p++)n=D.charCodeAt(p),Math.random()>.5&&(n="x"+n.toString(16)),d+="&#"+n+";";return d}var kn=function(){function D(p){this.tokens=[],this.tokens.links=Object.create(null),this.options=p||Je,this.options.tokenizer=this.options.tokenizer||new Ze,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var n={block:Ee.normal,inline:me.normal};this.options.pedantic?(n.block=Ee.pedantic,n.inline=me.pedantic):this.options.gfm&&(n.block=Ee.gfm,this.options.breaks?n.inline=me.breaks:n.inline=me.gfm),this.tokenizer.rules=n}D.lex=function(n,i){var u=new D(i);return u.lex(n)},D.lexInline=function(n,i){var u=new D(i);return u.inlineTokens(n)};var d=D.prototype;return d.lex=function(n){return n=n.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(n,this.tokens,!0),this.inline(this.tokens),this.tokens},d.blockTokens=function(n,i,u){var f=this;i===void 0&&(i=[]),u===void 0&&(u=!0),this.options.pedantic&&(n=n.replace(/^ +$/gm,""));for(var l,v,E,A,S,L;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(j){return(l=j.call(f,n,i))?(n=n.substring(l.raw.length),i.push(l),!0):!1}))){if(l=this.tokenizer.space(n)){n=n.substring(l.raw.length),l.type&&i.push(l);continue}if(l=this.tokenizer.code(n)){n=n.substring(l.raw.length),A=i[i.length-1],A&&A.type==="paragraph"?(A.raw+=`
`+l.raw,A.text+=`
`+l.text):i.push(l);continue}if(l=this.tokenizer.fences(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.heading(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.nptable(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.hr(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.blockquote(n)){n=n.substring(l.raw.length),l.tokens=this.blockTokens(l.text,[],u),i.push(l);continue}if(l=this.tokenizer.list(n)){for(n=n.substring(l.raw.length),E=l.items.length,v=0;v<E;v++)l.items[v].tokens=this.blockTokens(l.items[v].text,[],!1);i.push(l);continue}if(l=this.tokenizer.html(n)){n=n.substring(l.raw.length),i.push(l);continue}if(u&&(l=this.tokenizer.def(n))){n=n.substring(l.raw.length),this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.lheading(n)){n=n.substring(l.raw.length),i.push(l);continue}if(S=n,this.options.extensions&&this.options.extensions.startBlock&&function(){var j=1/0,R=n.slice(1),W=void 0;f.options.extensions.startBlock.forEach(function(X){W=X.call(this,R),typeof W=="number"&&W>=0&&(j=Math.min(j,W))}),j<1/0&&j>=0&&(S=n.substring(0,j+1))}(),u&&(l=this.tokenizer.paragraph(S))){A=i[i.length-1],L&&A.type==="paragraph"?(A.raw+=`
`+l.raw,A.text+=`
`+l.text):i.push(l),L=S.length!==n.length,n=n.substring(l.raw.length);continue}if(l=this.tokenizer.text(n)){n=n.substring(l.raw.length),A=i[i.length-1],A&&A.type==="text"?(A.raw+=`
`+l.raw,A.text+=`
`+l.text):i.push(l);continue}if(n){var U="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(U);break}else throw new Error(U)}}return i},d.inline=function(n){var i,u,f,l,v,E,A=n.length;for(i=0;i<A;i++)switch(E=n[i],E.type){case"paragraph":case"text":case"heading":{E.tokens=[],this.inlineTokens(E.text,E.tokens);break}case"table":{for(E.tokens={header:[],cells:[]},l=E.header.length,u=0;u<l;u++)E.tokens.header[u]=[],this.inlineTokens(E.header[u],E.tokens.header[u]);for(l=E.cells.length,u=0;u<l;u++)for(v=E.cells[u],E.tokens.cells[u]=[],f=0;f<v.length;f++)E.tokens.cells[u][f]=[],this.inlineTokens(v[f],E.tokens.cells[u][f]);break}case"blockquote":{this.inline(E.tokens);break}case"list":{for(l=E.items.length,u=0;u<l;u++)this.inline(E.items[u].tokens);break}}return n},d.inlineTokens=function(n,i,u,f){var l=this;i===void 0&&(i=[]),u===void 0&&(u=!1),f===void 0&&(f=!1);var v,E,A,S=n,L,U,j;if(this.tokens.links){var R=Object.keys(this.tokens.links);if(R.length>0)for(;(L=this.tokenizer.rules.inline.reflinkSearch.exec(S))!=null;)R.includes(L[0].slice(L[0].lastIndexOf("[")+1,-1))&&(S=S.slice(0,L.index)+"["+ke("a",L[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(L=this.tokenizer.rules.inline.blockSkip.exec(S))!=null;)S=S.slice(0,L.index)+"["+ke("a",L[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(L=this.tokenizer.rules.inline.escapedEmSt.exec(S))!=null;)S=S.slice(0,L.index)+"++"+S.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(U||(j=""),U=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(X){return(v=X.call(l,n,i))?(n=n.substring(v.raw.length),i.push(v),!0):!1}))){if(v=this.tokenizer.escape(n)){n=n.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.tag(n,u,f)){n=n.substring(v.raw.length),u=v.inLink,f=v.inRawBlock,E=i[i.length-1],E&&v.type==="text"&&E.type==="text"?(E.raw+=v.raw,E.text+=v.text):i.push(v);continue}if(v=this.tokenizer.link(n)){n=n.substring(v.raw.length),v.type==="link"&&(v.tokens=this.inlineTokens(v.text,[],!0,f)),i.push(v);continue}if(v=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(v.raw.length),E=i[i.length-1],v.type==="link"?(v.tokens=this.inlineTokens(v.text,[],!0,f),i.push(v)):E&&v.type==="text"&&E.type==="text"?(E.raw+=v.raw,E.text+=v.text):i.push(v);continue}if(v=this.tokenizer.emStrong(n,S,j)){n=n.substring(v.raw.length),v.tokens=this.inlineTokens(v.text,[],u,f),i.push(v);continue}if(v=this.tokenizer.codespan(n)){n=n.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.br(n)){n=n.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.del(n)){n=n.substring(v.raw.length),v.tokens=this.inlineTokens(v.text,[],u,f),i.push(v);continue}if(v=this.tokenizer.autolink(n,wt)){n=n.substring(v.raw.length),i.push(v);continue}if(!u&&(v=this.tokenizer.url(n,wt))){n=n.substring(v.raw.length),i.push(v);continue}if(A=n,this.options.extensions&&this.options.extensions.startInline&&function(){var X=1/0,ne=n.slice(1),le=void 0;l.options.extensions.startInline.forEach(function(Q){le=Q.call(this,ne),typeof le=="number"&&le>=0&&(X=Math.min(X,le))}),X<1/0&&X>=0&&(A=n.substring(0,X+1))}(),v=this.tokenizer.inlineText(A,f,Cn)){n=n.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(j=v.raw.slice(-1)),U=!0,E=i[i.length-1],E&&E.type==="text"?(E.raw+=v.raw,E.text+=v.text):i.push(v);continue}if(n){var W="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(W);break}else throw new Error(W)}}return i},o(D,null,[{key:"rules",get:function(){return{block:Ee,inline:me}}}]),D}(),Fn=s.exports.defaults,yt=te.cleanUrl,We=te.escape,At=function(){function D(p){this.options=p||Fn}var d=D.prototype;return d.code=function(n,i,u){var f=(i||"").match(/\S*/)[0];if(this.options.highlight){var l=this.options.highlight(n,f);l!=null&&l!==n&&(u=!0,n=l)}return n=n.replace(/\n$/,"")+`
`,f?'<pre><code class="'+this.options.langPrefix+We(f,!0)+'">'+(u?n:We(n,!0))+`</code></pre>
`:"<pre><code>"+(u?n:We(n,!0))+`</code></pre>
`},d.blockquote=function(n){return`<blockquote>
`+n+`</blockquote>
`},d.html=function(n){return n},d.heading=function(n,i,u,f){return this.options.headerIds?"<h"+i+' id="'+this.options.headerPrefix+f.slug(u)+'">'+n+"</h"+i+`>
`:"<h"+i+">"+n+"</h"+i+`>
`},d.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},d.list=function(n,i,u){var f=i?"ol":"ul",l=i&&u!==1?' start="'+u+'"':"";return"<"+f+l+`>
`+n+"</"+f+`>
`},d.listitem=function(n){return"<li>"+n+`</li>
`},d.checkbox=function(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},d.paragraph=function(n){return"<p>"+n+`</p>
`},d.table=function(n,i){return i&&(i="<tbody>"+i+"</tbody>"),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`},d.tablerow=function(n){return`<tr>
`+n+`</tr>
`},d.tablecell=function(n,i){var u=i.header?"th":"td",f=i.align?"<"+u+' align="'+i.align+'">':"<"+u+">";return f+n+"</"+u+`>
`},d.strong=function(n){return"<strong>"+n+"</strong>"},d.em=function(n){return"<em>"+n+"</em>"},d.codespan=function(n){return"<code>"+n+"</code>"},d.br=function(){return this.options.xhtml?"<br/>":"<br>"},d.del=function(n){return"<del>"+n+"</del>"},d.link=function(n,i,u){if(n=yt(this.options.sanitize,this.options.baseUrl,n),n===null)return u;var f='<a href="'+We(n)+'"';return i&&(f+=' title="'+i+'"'),f+=">"+u+"</a>",f},d.image=function(n,i,u){if(n=yt(this.options.sanitize,this.options.baseUrl,n),n===null)return u;var f='<img src="'+n+'" alt="'+u+'"';return i&&(f+=' title="'+i+'"'),f+=this.options.xhtml?"/>":">",f},d.text=function(n){return n},D}(),$t=function(){function D(){}var d=D.prototype;return d.strong=function(n){return n},d.em=function(n){return n},d.codespan=function(n){return n},d.del=function(n){return n},d.html=function(n){return n},d.text=function(n){return n},d.link=function(n,i,u){return""+u},d.image=function(n,i,u){return""+u},d.br=function(){return""},D}(),St=function(){function D(){this.seen={}}var d=D.prototype;return d.serialize=function(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},d.getNextSafeSlug=function(n,i){var u=n,f=0;if(this.seen.hasOwnProperty(u)){f=this.seen[n];do f++,u=n+"-"+f;while(this.seen.hasOwnProperty(u))}return i||(this.seen[n]=f,this.seen[u]=0),u},d.slug=function(n,i){i===void 0&&(i={});var u=this.serialize(n);return this.getNextSafeSlug(u,i.dryrun)},D}(),xn=At,wn=$t,yn=St,An=s.exports.defaults,$n=te.unescape,Sn=function(){function D(p){this.options=p||An,this.options.renderer=this.options.renderer||new xn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new wn,this.slugger=new yn}D.parse=function(n,i){var u=new D(i);return u.parse(n)},D.parseInline=function(n,i){var u=new D(i);return u.parseInline(n)};var d=D.prototype;return d.parse=function(n,i){i===void 0&&(i=!0);var u="",f,l,v,E,A,S,L,U,j,R,W,X,ne,le,Q,ee,Rt,Ne,st,It=n.length;for(f=0;f<It;f++){if(R=n[f],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[R.type]&&(st=this.options.extensions.renderers[R.type].call(this,R),st!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(R.type))){u+=st||"";continue}switch(R.type){case"space":continue;case"hr":{u+=this.renderer.hr();continue}case"heading":{u+=this.renderer.heading(this.parseInline(R.tokens),R.depth,$n(this.parseInline(R.tokens,this.textRenderer)),this.slugger);continue}case"code":{u+=this.renderer.code(R.text,R.lang,R.escaped);continue}case"table":{for(U="",L="",E=R.header.length,l=0;l<E;l++)L+=this.renderer.tablecell(this.parseInline(R.tokens.header[l]),{header:!0,align:R.align[l]});for(U+=this.renderer.tablerow(L),j="",E=R.cells.length,l=0;l<E;l++){for(S=R.tokens.cells[l],L="",A=S.length,v=0;v<A;v++)L+=this.renderer.tablecell(this.parseInline(S[v]),{header:!1,align:R.align[v]});j+=this.renderer.tablerow(L)}u+=this.renderer.table(U,j);continue}case"blockquote":{j=this.parse(R.tokens),u+=this.renderer.blockquote(j);continue}case"list":{for(W=R.ordered,X=R.start,ne=R.loose,E=R.items.length,j="",l=0;l<E;l++)Q=R.items[l],ee=Q.checked,Rt=Q.task,le="",Q.task&&(Ne=this.renderer.checkbox(ee),ne?Q.tokens.length>0&&Q.tokens[0].type==="text"?(Q.tokens[0].text=Ne+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text"&&(Q.tokens[0].tokens[0].text=Ne+" "+Q.tokens[0].tokens[0].text)):Q.tokens.unshift({type:"text",text:Ne}):le+=Ne),le+=this.parse(Q.tokens,ne),j+=this.renderer.listitem(le,Rt,ee);u+=this.renderer.list(j,W,X);continue}case"html":{u+=this.renderer.html(R.text);continue}case"paragraph":{u+=this.renderer.paragraph(this.parseInline(R.tokens));continue}case"text":{for(j=R.tokens?this.parseInline(R.tokens):R.text;f+1<It&&n[f+1].type==="text";)R=n[++f],j+=`
`+(R.tokens?this.parseInline(R.tokens):R.text);u+=i?this.renderer.paragraph(j):j;continue}default:{var jt='Token with "'+R.type+'" type was not found.';if(this.options.silent){console.error(jt);return}else throw new Error(jt)}}}return u},d.parseInline=function(n,i){i=i||this.renderer;var u="",f,l,v,E=n.length;for(f=0;f<E;f++){if(l=n[f],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(v=this.options.extensions.renderers[l.type].call(this,l),v!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){u+=v||"";continue}switch(l.type){case"escape":{u+=i.text(l.text);break}case"html":{u+=i.html(l.text);break}case"link":{u+=i.link(l.href,l.title,this.parseInline(l.tokens,i));break}case"image":{u+=i.image(l.href,l.title,l.text);break}case"strong":{u+=i.strong(this.parseInline(l.tokens,i));break}case"em":{u+=i.em(this.parseInline(l.tokens,i));break}case"codespan":{u+=i.codespan(l.text);break}case"br":{u+=i.br();break}case"del":{u+=i.del(this.parseInline(l.tokens,i));break}case"text":{u+=i.text(l.text);break}default:{var A='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(A);return}else throw new Error(A)}}}return u},D}(),_e=kn,Te=Sn,Bt=Se,_t=At,Bn=$t,_n=St,Xe=te.merge,Tt=te.checkSanitizeDeprecation,Nt=te.escape,Tn=s.exports.getDefaults,Nn=s.exports.changeDefaults,Rn=s.exports.defaults;function H(D,d,p){if(typeof D=="undefined"||D===null)throw new Error("marked(): input parameter is undefined or null");if(typeof D!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(D)+", string expected");if(typeof d=="function"&&(p=d,d=null),d=Xe({},H.defaults,d||{}),Tt(d),p){var n=d.highlight,i;try{i=_e.lex(D,d)}catch(v){return p(v)}var u=function(E){var A;if(!E)try{d.walkTokens&&H.walkTokens(i,d.walkTokens),A=Te.parse(i,d)}catch(S){E=S}return d.highlight=n,E?p(E):p(null,A)};if(!n||n.length<3||(delete d.highlight,!i.length))return u();var f=0;H.walkTokens(i,function(v){v.type==="code"&&(f++,setTimeout(function(){n(v.text,v.lang,function(E,A){if(E)return u(E);A!=null&&A!==v.text&&(v.text=A,v.escaped=!0),f--,f===0&&u()})},0))}),f===0&&u();return}try{var l=_e.lex(D,d);return d.walkTokens&&H.walkTokens(l,d.walkTokens),Te.parse(l,d)}catch(v){if(v.message+=`
Please report this to https://github.com/markedjs/marked.`,d.silent)return"<p>An error occurred:</p><pre>"+Nt(v.message+"",!0)+"</pre>";throw v}}H.options=H.setOptions=function(D){return Xe(H.defaults,D),Nn(H.defaults),H},H.getDefaults=Tn,H.defaults=Rn,H.use=function(){for(var D=this,d=arguments.length,p=new Array(d),n=0;n<d;n++)p[n]=arguments[n];var i=Xe.apply(void 0,[{}].concat(p)),u=H.defaults.extensions||{renderers:{},childTokens:{}},f;p.forEach(function(l){if(l.extensions&&(f=!0,l.extensions.forEach(function(E){if(!E.name)throw new Error("extension name required");if(E.renderer){var A=u.renderers?u.renderers[E.name]:null;A?u.renderers[E.name]=function(){for(var S=arguments.length,L=new Array(S),U=0;U<S;U++)L[U]=arguments[U];var j=E.renderer.apply(this,L);return j===!1&&(j=A.apply(this,L)),j}:u.renderers[E.name]=E.renderer}if(E.tokenizer){if(!E.level||E.level!=="block"&&E.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");u[E.level]?u[E.level].unshift(E.tokenizer):u[E.level]=[E.tokenizer],E.start&&(E.level==="block"?u.startBlock?u.startBlock.push(E.start):u.startBlock=[E.start]:E.level==="inline"&&(u.startInline?u.startInline.push(E.start):u.startInline=[E.start]))}E.childTokens&&(u.childTokens[E.name]=E.childTokens)})),l.renderer&&function(){var E=H.defaults.renderer||new _t,A=function(U){var j=E[U];E[U]=function(){for(var R=arguments.length,W=new Array(R),X=0;X<R;X++)W[X]=arguments[X];var ne=l.renderer[U].apply(E,W);return ne===!1&&(ne=j.apply(E,W)),ne}};for(var S in l.renderer)A(S);i.renderer=E}(),l.tokenizer&&function(){var E=H.defaults.tokenizer||new Bt,A=function(U){var j=E[U];E[U]=function(){for(var R=arguments.length,W=new Array(R),X=0;X<R;X++)W[X]=arguments[X];var ne=l.tokenizer[U].apply(E,W);return ne===!1&&(ne=j.apply(E,W)),ne}};for(var S in l.tokenizer)A(S);i.tokenizer=E}(),l.walkTokens){var v=H.defaults.walkTokens;i.walkTokens=function(E){l.walkTokens.call(D,E),v&&v(E)}}f&&(i.extensions=u),H.setOptions(i)})},H.walkTokens=function(D,d){for(var p=function(){var f=i.value;switch(d(f),f.type){case"table":{for(var l=m(f.tokens.header),v;!(v=l()).done;){var E=v.value;H.walkTokens(E,d)}for(var A=m(f.tokens.cells),S;!(S=A()).done;)for(var L=S.value,U=m(L),j;!(j=U()).done;){var R=j.value;H.walkTokens(R,d)}break}case"list":{H.walkTokens(f.items,d);break}default:H.defaults.extensions&&H.defaults.extensions.childTokens&&H.defaults.extensions.childTokens[f.type]?H.defaults.extensions.childTokens[f.type].forEach(function(W){H.walkTokens(f[W],d)}):f.tokens&&H.walkTokens(f.tokens,d)}},n=m(D),i;!(i=n()).done;)p()},H.parseInline=function(D,d){if(typeof D=="undefined"||D===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof D!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(D)+", string expected");d=Xe({},H.defaults,d||{}),Tt(d);try{var p=_e.lexInline(D,d);return d.walkTokens&&H.walkTokens(p,d.walkTokens),Te.parseInline(p,d)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,d.silent)return"<p>An error occurred:</p><pre>"+Nt(n.message+"",!0)+"</pre>";throw n}},H.Parser=Te,H.parser=Te.parse,H.Renderer=_t,H.TextRenderer=Bn,H.Lexer=_e,H.lexer=_e.lex,H.Tokenizer=Bt,H.Slugger=_n,H.parse=H;var In=H;return In})})(mn);var Ie=mn.exports,Zi=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],o=0;o<t.rangeCount;o++)r.push(t.getRangeAt(o));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(c){t.addRange(c)}),e&&e.focus()}},Ji=Zi,gn={"text/plain":"Text","text/html":"Url",default:"Text"},Wi="Copy to clipboard: #{key}, Enter";function Xi(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Gi(t,e){var r,o,c,a,m,s,g=!1;e||(e={}),r=e.debug||!1;try{c=Ji(),a=document.createRange(),m=document.getSelection(),s=document.createElement("span"),s.textContent=t,s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(w){if(w.stopPropagation(),e.format)if(w.preventDefault(),typeof w.clipboardData=="undefined"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var F=gn[e.format]||gn.default;window.clipboardData.setData(F,t)}else w.clipboardData.clearData(),w.clipboardData.setData(e.format,t);e.onCopy&&(w.preventDefault(),e.onCopy(w.clipboardData))}),document.body.appendChild(s),a.selectNodeContents(s),m.addRange(a);var x=document.execCommand("copy");if(!x)throw new Error("copy command was unsuccessful");g=!0}catch(w){r&&console.error("unable to copy using execCommand: ",w),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),g=!0}catch(F){r&&console.error("unable to copy using clipboardData: ",F),r&&console.error("falling back to prompt"),o=Xi("message"in e?e.message:Wi),window.prompt(o,t)}}finally{m&&(typeof m.removeRange=="function"?m.removeRange(a):m.removeAllRanges()),s&&document.body.removeChild(s),c()}return g}var je=Gi;const Oe=t=>{const e=t.value,r=e.substring(0,t.selectionStart),o=e.substring(t.selectionEnd,e.length),c=r.lastIndexOf(`
`),a=r.substring(0,c+1),m=o.indexOf(`
`),s=o.substring(m===-1?o.length:m,o.length),g=r.substring(c+1,r.length),x=o.substring(0,m);return{prefixStr:r,subfixStr:o,prefixStrEndRow:a,subfixStrEndRow:s,prefixSupply:g,subfixSupply:x}},Qi=(t,e="",r,o={})=>{var c,a;let m="",s=0,g=0,x=!1,w,F;if(/^h[1-6]{1}$/.test(t)){const C=t.replace(/^h(\d)/,(k,$)=>new Array(Number($)).fill("#",0,$).join(""));m=`${C} ${e}`,s=C.length+1}else{if(t==="prettier")return window.prettier.format(r.value,{parser:"markdown",plugins:window.prettierPlugins});switch(t){case"bold":{m=`**${e}**`,s=2,g=-2;break}case"underline":{m=`<u>${e}</u>`,s=3,g=-4;break}case"italic":{m=`*${e}*`,s=1,g=-1;break}case"strikeThrough":{m=`~${e}~`,s=1,g=-1;break}case"sub":{m=`<sub>${e}</sub>`,s=5,g=-6;break}case"sup":{m=`<sup>${e}</sup>`,s=5,g=-6;break}case"codeRow":{m="`"+e+"`",s=1,g=-1;break}case"quote":{m=`> ${e}`,s=2;break}case"orderedList":{m=`1. ${e}`,s=3;break}case"unorderedList":{m=`- ${e}`,s=2;break}case"code":{m="```language\n"+e+"\n```\n",s=3,g=11-m.length,x=!0;break}case"table":{m=`| \u8868\u5934 | \u8868\u5934 |
| - | - |
| \u5185\u5BB9 | \u5185\u5BB9 |
`,s=2,g=4-m.length,x=!0;break}case"link":{const{desc:C,url:k}=o;m=`[${C}](${k})`;break}case"image":{const{desc:C,url:k}=o;m=`![${C}](${k})
`;break}case"tab":{e=((c=window.getSelection())==null?void 0:c.toString())||"";const{tabWidth:C=2}=o,k=new Array(C).fill(" ").join("");if(e==="")m=k;else if(/\n/.test(e)){const{prefixStr:$,subfixStr:_,prefixSupply:P,subfixSupply:M}=Oe(r);m=`${P}${e}${M}`.split(`
`).map(N=>`${k}${N}`).join(`
`),w=$.substring(0,$.length-P.length),F=_.substring(M.length,_.length),x=!0,s=C,g=-P.length-M.length}else{const _=r.value.substring(0,r.selectionStart);/\n$/.test(_)||_===""?(m=`${k}${e}`,x=!0):m=k}break}case"shiftTab":{e=((a=window.getSelection())==null?void 0:a.toString())||"";const{tabWidth:C=2}=o,{prefixStr:k,prefixStrEndRow:$,subfixStrEndRow:_,prefixSupply:P,subfixSupply:M}=Oe(r),Z=new RegExp(`^\\s{${C}}`),ue=(N=!1,q=!1)=>{const O=`${P}${e}${M}`;if(Z.test(O)){const z=k.length-(q?0:C),V=N?z+e.length-C:z;return fe(r,z,V),`${$}${O.replace(Z,"")}${_}`}else if(/^\s/.test(O)){const z=O.replace(/^\s/,""),V=O.length-z.length,Y=r.selectionStart-(q?0:V),se=N?Y+e.length-V:Y;return fe(r,Y,se),`${$}${z}${_}`}else m=e};if(e===""){const N=ue();if(N)return N}else if(/\n/.test(e)){const q=`${P}${e}${M}`.split(`
`);let[O,z]=[0,0];const V=q.map((Y,se)=>{if(Z.test(Y))return se===0&&(O=C),z+=C,Y.replace(Z,"");if(/^\s/.test(Y)){const De=Y.replace(/^\s/,"");return z+=Y.length-De.length,De}return Y}).join(`
`);return fe(r,r.selectionStart-O,r.selectionEnd-z),`${$}${V}${_}`}else{const N=ue(!0,!0);if(N)return N}break}case"ctrlC":{const{prefixSupply:C,subfixSupply:k}=Oe(r);return je(e===""?`${C}${k}`:e),r.value}case"ctrlX":{const{prefixStrEndRow:C,subfixStrEndRow:k,prefixStr:$,subfixStr:_,prefixSupply:P,subfixSupply:M}=Oe(r);return e===""?(je(`${P}${M}`),fe(r,C.length),`${C}${k.replace(/^\n/,"")}`):(je(e),fe(r,$.length),`${$}${_}`)}case"ctrlD":{const{prefixStrEndRow:C,subfixStrEndRow:k}=Oe(r);return fe(r,C.length),`${C}${k.replace(/^\n/,"")}`}}}return kt(r,m,{deviationStart:s,deviationEnd:g,select:x,prefixVal:w,subfixVal:F})};let Dn=-1;const Yi=(t,e)=>{const{onChange:r}=t,{historyLength:o,editorId:c}=y.exports.useContext(pe),[a,m]=y.exports.useState({list:[],userUpdated:!0,curr:0});y.exports.useEffect(()=>{var s,g;clearTimeout(Dn);const x=((s=e.current)==null?void 0:s.selectionStart)||0,w=((g=e.current)==null?void 0:g.selectionEnd)||0;Dn=window.setTimeout(()=>{if(a.userUpdated){a.curr<a.list.length-1&&(a.list=a.list.slice(0,a.curr+1)),a.list.length>o&&a.list.shift();const F=a.list.pop()||{startPos:0,endPos:0,content:t.value};F.startPos=x,F.endPos=w,Array.prototype.push.call(a.list,F,{content:t.value,startPos:x,endPos:w}),a.curr=a.list.length-1}else m(G(J({},a),{userUpdated:!0}))},10)},[t.value]),y.exports.useEffect(()=>{I.on(c,{name:"ctrlZ",callback(){m(G(J({},a),{userUpdated:!1})),a.curr=a.curr-1<0?0:a.curr-1;const s=a.list[a.curr];r(s.content),fe(e.current,s.startPos,s.endPos)}}),I.on(c,{name:"ctrlShiftZ",callback(){m(G(J({},a),{userUpdated:!1})),a.curr=a.curr+1===a.list.length?a.curr:a.curr+1;const s=a.list[a.curr];r(s.content),fe(e.current,s.startPos,s.endPos)}})},[])},eu=(t,e)=>{const r=y.exports.useRef(""),{previewOnly:o,tabWidth:c,editorId:a}=y.exports.useContext(pe);y.exports.useEffect(()=>{var s,g;o||((s=e.current)==null||s.addEventListener("select",()=>{var x;r.current=((x=window.getSelection())==null?void 0:x.toString())||""}),(g=e.current)==null||g.addEventListener("keypress",x=>{var w,F,C;if(x.key==="Enter"){const k=(w=e.current)==null?void 0:w.selectionStart,$=(F=e.current)==null?void 0:F.value.substring(0,k),_=(C=e.current)==null?void 0:C.value.substring(k),P=$==null?void 0:$.lastIndexOf(`
`),M=$==null?void 0:$.substring(P+1,k);if(/^\d+\.\s|^-\s/.test(M))if(x.cancelBubble=!0,x.preventDefault(),x.stopPropagation(),/^\d+\.\s+$|^-\s+$/.test(M)){const Z=$==null?void 0:$.replace(new RegExp(M+"$"),"");t.onChange(Z+_),fe(e.current,Z==null?void 0:Z.length)}else if(/^-\s+.+/.test(M))t.onChange(kt(e.current,`
- `,{}));else{const Z=M==null?void 0:M.match(/\d+(?=\.)/),ue=Z&&Number(Z[0])+1||1;t.onChange(kt(e.current,`
${ue}. `,{}))}}}),I.on(a,{name:"selectTextChange",callback(x){r.current=x}}))},[]);const m=y.exports.useCallback((s,g={})=>{t.onChange(Qi(s,r.current,e.current,G(J({},g),{tabWidth:c})))},[e]);return y.exports.useEffect(()=>{o||(I.remove(a,"replace",m),I.on(a,{name:"replace",callback:m}))},[e]),{selectedText:r}};let xt=()=>{};const tu=t=>{const{hljs:e=null,highlightSet:r,onChange:o=()=>{},onHtmlChanged:c=()=>{},onGetCatalog:a=()=>{}}=t,{editorId:m,previewOnly:s,usedLanguageText:g,previewTheme:x,showCodeRowNumber:w}=y.exports.useContext(pe),[F,C]=y.exports.useState(e!==null),k=y.exports.useRef(null),$=y.exports.useRef(""),_=y.exports.useRef(null),P=y.exports.useRef(null),M=[],Z=new Ie.Renderer;Z.heading=(...O)=>{const[z,V]=O;return M.push({text:z,level:V}),t.markedHeading(...O)},Z.image=(O,z,V)=>`<figure><img src="${O}" alt="${V}"><figcaption>${V}</figcaption></figure>`,Ie.setOptions({renderer:Z,breaks:!0});const ue=()=>{document.querySelectorAll(`#${m} .${b}-preview pre`).forEach(O=>{var z;const V=document.createElement("span");V.setAttribute("class","copy-button"),V.innerText=((z=g.copyCode)==null?void 0:z.text)||"\u590D\u5236\u4EE3\u7801",V.addEventListener("click",()=>{var Y;je(O.querySelector("code").innerText),V.innerText=((Y=g.copyCode)==null?void 0:Y.tips)||"\u5DF2\u590D\u5236\uFF01",setTimeout(()=>{var se;V.innerText=((se=g.copyCode)==null?void 0:se.text)||"\u590D\u5236\u4EE3\u7801"},1500)}),O.appendChild(V)})},N=()=>{Ie.setOptions({highlight(O){const z=window.hljs.highlightAuto(O).value;return w?pn(z):`<span class="code-block">${z}</span>`}}),C(!0)};y.exports.useEffect(()=>{let O,z;return t.hljs?Ie.setOptions({highlight:V=>{var Y;const se=(Y=t.hljs)==null?void 0:Y.highlightAuto(V).value;return w?pn(se):`<span class="code-block">${se}</span>`}}):(O=document.createElement("link"),O.rel="stylesheet",O.href=r.css,O.id=`${b}-hlCss`,z=document.createElement("script"),z.src=r.js,z.onload=N,z.id=`${b}-hljs`,ge(O),ge(z)),()=>{t.hljs||(document.head.removeChild(O),document.head.removeChild(z))}},[]);const q=y.exports.useMemo(()=>Ie(t.value),[t.value,F]);return y.exports.useEffect(()=>{c(q),a(M),I.emit(m,"catalogChanged",M),t.setting.preview&&!s&&(xt=fn(k.current,_.current||P.current)),ue()},[q]),y.exports.useEffect(()=>{t.setting.preview&&!s?xt=fn(k.current,_.current||P.current):xt()},[t.setting.preview]),Yi(t,k),eu(t,k),h.createElement(h.Fragment,null,h.createElement("div",{className:`${b}-content`},!s&&h.createElement("div",{className:`${b}-input-wrapper`},h.createElement("textarea",{id:`${m}-textarea`,ref:k,value:t.value,onInput:O=>{$.current="",o(O.target.value)},className:t.setting.preview||t.setting.htmlPreview?"":"textarea-only"})),t.setting.preview&&h.createElement("div",{ref:_,id:`${b}-preview`,className:ut(`${b}-preview`,`${x}-theme`,w&&`${b}-scrn`),dangerouslySetInnerHTML:{__html:q}}),t.setting.htmlPreview&&h.createElement("div",{ref:P,className:`${b}-html`},q)))},vn=t=>h.createElement("div",{className:`${b}-catalog-link`,onClick:e=>{e.stopPropagation();const r=t.markedHeadingId(t.tocItem.text,t.tocItem.level),o=document.getElementById(r),c=document.getElementById(`${b}-preview`);if(o){const a=o.offsetTop;c==null||c.scrollTo({top:a,behavior:"smooth"})}}},h.createElement("span",null,t.tocItem.text),t.tocItem.children&&t.tocItem.children.map(e=>h.createElement(vn,{markedHeadingId:t.markedHeadingId,key:e.text,tocItem:e}))),nu=t=>{const{editorId:e}=y.exports.useContext(pe),[r,o]=y.exports.useState([]),c=y.exports.useMemo(()=>{const s=[];return r.forEach(({text:g,level:x})=>{const w={level:x,text:g};if(s.length===0)s.push(w);else{let F=s[s.length-1];if(w.level>F.level)for(let C=F.level+1;C<=6;C++){const{children:k}=F;if(!k){F.children=[w];break}if(F=k[k.length-1],w.level<=F.level){k.push(w);break}}else s.push(w)}}),s},[r]),[a,m]=y.exports.useState(!1);return y.exports.useEffect(()=>{I.on(e,{name:"catalogChanged",callback:s=>{o(s)}}),I.on(e,{name:"catalogShow",callback:()=>{m(s=>!s)}})},[]),a?h.createElement("div",{className:`${b}-catalog`},c.map(s=>h.createElement(vn,{markedHeadingId:t.markedHeadingId,tocItem:s,key:s.text}))):null},pe=y.exports.createContext({editorId:"",tabWidth:2,historyLength:10,previewOnly:!1,showCodeRowNumber:!1,usedLanguageText:Ct["zh-CN"],Cropper:null,previewTheme:"default"});let bn="";const En=t=>t,ru=t=>{const{theme:e,editorClass:r,toolbars:o,toolbarsExclude:c,preview:a,htmlPreview:m,previewOnly:s,pageFullScreen:g,editorId:x,tabWidth:w,screenfull:F,screenfullJs:C}=t;ji(t),Oi(t);const[k,$]=y.exports.useState({pageFullScreen:g,fullscreen:!1,preview:a,htmlPreview:a?!1:m}),_=N=>{$(q=>{const O=G(J({},q),{[N]:!q[N]});return N==="preview"&&O.preview?O.htmlPreview=!1:N==="htmlPreview"&&O.htmlPreview&&(O.preview=!1),O})},P=(N,q)=>{const O=z=>{z.forEach(V=>{setTimeout(()=>{I.emit(x,"replace","image",{desc:"",url:V})},0)}),q&&q()};t.onUploadImg&&t.onUploadImg(N,O)};y.exports.useEffect(()=>{s||(I.remove(x,"uploadImage",P),I.on(x,{name:"uploadImage",callback:P}),bn=document.body.style.overflow)},[]),y.exports.useEffect(()=>{k.pageFullScreen||k.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=bn},[k.pageFullScreen,k.fullscreen]);const M=y.exports.useMemo(()=>{let N=at.atom;if(t.highlightCss)N=t.highlightCss;else switch(t.previewTheme){case"github":{t.theme==="dark"?N=at.githubDark:N=at.github;break}}return{js:t.highlightJs,css:N}},[t.highlightCss,t.previewTheme,t.theme]),Z=y.exports.useMemo(()=>{const N=J(J({},Ct),t.languageUserDefined);return N[t.language]?N[t.language]:Ct["zh-CN"]},[t.languageUserDefined,t.language]),ue=y.exports.useMemo(()=>!c.includes("catalog")&&o.includes("catalog"),[o,c]);return h.createElement(pe.Provider,{value:{editorId:x,tabWidth:w,historyLength:t.historyLength,previewOnly:s,showCodeRowNumber:t.showCodeRowNumber,usedLanguageText:Z,Cropper:t.Cropper,previewTheme:t.previewTheme}},h.createElement("div",{id:x,className:ut([b,r,e==="dark"&&`${b}-dark`,k.fullscreen||k.pageFullScreen?`${b}-fullscreen`:"",s&&`${b}-previewOnly`]),style:t.style},!s&&h.createElement(Ki,{prettier:t.prettier,screenfull:F,screenfullJs:C,toolbars:o,toolbarsExclude:c,setting:k,updateSetting:_}),h.createElement(tu,{hljs:t.hljs,highlightSet:M,value:t.modelValue,onChange:t.onChange,setting:k,onHtmlChanged:t.onHtmlChanged,onGetCatalog:t.onGetCatalog,markedHeading:t.markedHeading}),ue&&h.createElement(nu,{markedHeadingId:t.markedHeadingId})))};ru.defaultProps={modelValue:"",theme:"light",editorClass:"",highlightJs:at.js,highlightCss:"",historyLength:10,onChange(){},pageFullScreen:!1,preview:!0,htmlPreview:!1,previewOnly:!1,language:"zh-CN",languageUserDefined:{},toolbars:Ri,toolbarsExclude:[],prettier:!0,prettierCDN:cn.main,prettierMDCDN:cn.markdown,cropperCss:dn.css,cropperJs:dn.js,iconfontJs:Ti,editorId:"md-editor-rt",tabWidth:2,showCodeRowNumber:!1,screenfullJs:Ni,previewTheme:"default",markedHeading:(t,e)=>{const r=En(t);return`<h${e} id="${r}"><a href="#${r}">${t}</a></h${e}>`},markedHeadingId:En,style:{}};export{ru as E,uu as a};
